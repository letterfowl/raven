/*! For license information please see main.js.LICENSE.txt */
(()=>{var t,e,n={465:(t,e,n)=>{"use strict";n.r(e),n.d(e,{AuthApiError:()=>Tt,AuthError:()=>bt,AuthImplicitGrantRedirectError:()=>jt,AuthInvalidCredentialsError:()=>At,AuthRetryableFetchError:()=>Rt,AuthSessionMissingError:()=>xt,AuthUnknownError:()=>Et,CustomAuthError:()=>Ot,FunctionsError:()=>r,FunctionsFetchError:()=>i,FunctionsHttpError:()=>s,FunctionsRelayError:()=>o,GoTrueAdminApi:()=>Mt,GoTrueClient:()=>Bt,REALTIME_LISTEN_TYPES:()=>N,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:()=>M,REALTIME_PRESENCE_LISTEN_EVENTS:()=>S,REALTIME_SUBSCRIBE_STATES:()=>F,RealtimeChannel:()=>B,RealtimeClient:()=>W,RealtimePresence:()=>j,SupabaseClient:()=>Jt,createClient:()=>Xt,isAuthApiError:()=>St,isAuthError:()=>wt});class r extends Error{constructor(t,e="FunctionsError",n){super(t),super.name=e,this.context=n}}class i extends r{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class o extends r{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class s extends r{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}class a{constructor(t,{headers:e={},customFetch:r}={}){this.url=t,this.headers=e,this.fetch=(t=>{let e;return e=t||("undefined"==typeof fetch?(...t)=>{return e=void 0,r=void 0,o=function*(){return yield(yield Promise.resolve().then(n.t.bind(n,98,23))).fetch(...t)},new((i=void 0)||(i=Promise))((function(t,n){function s(t){try{u(o.next(t))}catch(t){n(t)}}function a(t){try{u(o.throw(t))}catch(t){n(t)}}function u(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,a)}u((o=o.apply(e,r||[])).next())}));var e,r,i,o}:fetch),(...t)=>e(...t)})(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var n,r,a,u,c;return r=this,a=void 0,c=function*(){try{const{headers:r,body:a}=e;let u,c={};a&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!=typeof Blob&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",u=a):"string"==typeof a?(c["Content-Type"]="text/plain",u=a):"undefined"!=typeof FormData&&a instanceof FormData?u=a:(c["Content-Type"]="application/json",u=JSON.stringify(a)));const l=yield this.fetch(`${this.url}/${t}`,{method:"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),r),body:u}).catch((t=>{throw new i(t)})),h=l.headers.get("x-relay-error");if(h&&"true"===h)throw new o(l);if(!l.ok)throw new s(l);let f,d=(null!==(n=l.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return f="application/json"===d?yield l.json():"application/octet-stream"===d?yield l.blob():"multipart/form-data"===d?yield l.formData():yield l.text(),{data:f,error:null}}catch(t){return{data:null,error:t}}},new((u=void 0)||(u=Promise))((function(t,e){function n(t){try{o(c.next(t))}catch(t){e(t)}}function i(t){try{o(c.throw(t))}catch(t){e(t)}}function o(e){var r;e.done?t(e.value):(r=e.value,r instanceof u?r:new u((function(t){t(r)}))).then(n,i)}o((c=c.apply(r,a||[])).next())}))}}var u=n(98),c=n.n(u);class l{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.allowEmpty=t.allowEmpty,t.fetch?this.fetch=t.fetch:"undefined"==typeof fetch?this.fetch=c():this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(t,e){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((t=>{return e=this,n=void 0,i=function*(){var e,n,r;let i=null,o=null,s=null,a=t.status,u=t.statusText;if(t.ok){if("HEAD"!==this.method){const e=yield t.text();""===e||(o="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?e:JSON.parse(e))}const r=null===(e=this.headers.Prefer)||void 0===e?void 0:e.match(/count=(exact|planned|estimated)/),i=null===(n=t.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&i&&i.length>1&&(s=parseInt(i[1]))}else{const e=yield t.text();try{i=JSON.parse(e)}catch(t){i={message:e}}if(i&&this.allowEmpty&&(null===(r=null==i?void 0:i.details)||void 0===r?void 0:r.includes("Results contain 0 rows"))&&(i=null,a=200,u="OK"),i&&this.shouldThrowOnError)throw i}return{error:i,data:o,count:s,status:a,statusText:u}},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}u((i=i.apply(e,n||[])).next())}));var e,n,r,i}));return this.shouldThrowOnError||(n=n.catch((t=>({error:{message:`FetchError: ${t.message}`,details:"",hint:"",code:t.code||""},data:null,count:null,status:0,statusText:""})))),n.then(t,e)}}class h extends l{select(t){let e=!1;const n=(null!=t?t:"*").split("").map((t=>/\s/.test(t)&&!e?"":('"'===t&&(e=!e),t))).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r}={}){const i=r?`${r}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e}={}){const n=void 0===e?"limit":`${e}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:n}={}){const r=void 0===n?"offset":`${n}.offset`,i=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this.url.searchParams.set(i,""+(e-t+1)),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="application/vnd.pgrst.object+json",this.allowEmpty=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){const s=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),a=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${a}"; options=${s};`,this}rollback(){var t;return(null!==(t=this.headers.Prefer)&&void 0!==t?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class f extends h{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){const n=e.map((t=>"string"==typeof t&&new RegExp("[,()]").test(t)?`"${t}"`:`${t}`)).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,e){return"string"==typeof e?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return"string"==typeof e?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return"string"==typeof e?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";"plain"===r?i="pl":"phrase"===r?i="ph":"websearch"===r&&(i="w");const o=void 0===n?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach((([t,e])=>{this.url.searchParams.append(t,`eq.${e}`)})),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e}={}){const n=e?`${e}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}}class d{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=e,this.schema=n,this.fetch=r}select(t,{head:e=!1,count:n}={}){const r=e?"HEAD":"GET";let i=!1;const o=(null!=t?t:"*").split("").map((t=>/\s/.test(t)&&!i?"":('"'===t&&(i=!i),t))).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new f({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e}={}){const n=[],r=t;if(e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),Array.isArray(t)){const e=t.reduce(((t,e)=>t.concat(Object.keys(e))),[]);if(e.length>0){const t=[...new Set(e)].map((t=>`"${t}"`));this.url.searchParams.set("columns",t.join(","))}}return new f({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r}={}){const i=[`resolution=${n?"ignore":"merge"}-duplicates`];void 0!==e&&this.url.searchParams.set("on_conflict",e);const o=t;return r&&i.push(`count=${r}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new f({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){const n=[],r=t;return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new f({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const e=[];return t&&e.push(`count=${t}`),this.headers.Prefer&&e.unshift(this.headers.Prefer),this.headers.Prefer=e.join(","),new f({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const p={"X-Client-Info":"postgrest-js/1.1.0"};class v{constructor(t,{headers:e={},schema:n,fetch:r}={}){this.url=t,this.headers=Object.assign(Object.assign({},p),e),this.schema=n,this.fetch=r}from(t){const e=new URL(`${this.url}/${t}`);return new d(e,{headers:Object.assign({},this.headers),schema:this.schema,fetch:this.fetch})}rpc(t,e={},{head:n=!1,count:r}={}){let i;const o=new URL(`${this.url}/rpc/${t}`);let s;n?(i="HEAD",Object.entries(e).forEach((([t,e])=>{o.searchParams.append(t,`${e}`)}))):(i="POST",s=e);const a=Object.assign({},this.headers);return r&&(a.Prefer=`count=${r}`),new f({method:i,url:o,headers:a,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}}var g=n(578);const _={"X-Client-Info":"realtime-js/2.1.0"};var y,m,b,w,T,S,E;!function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"}(y||(y={})),function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"}(m||(m={})),function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"}(b||(b={})),function(t){t.websocket="websocket"}(w||(w={})),function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"}(T||(T={}));class O{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}class x{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e("string"==typeof t?JSON.parse(t):{})}_binaryDecode(t){const e=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,e,n)}_decodeBroadcast(t,e,n){const r=e.getUint8(1),i=e.getUint8(2);let o=this.HEADER_LENGTH+2;const s=n.decode(t.slice(o,o+r));o+=r;const a=n.decode(t.slice(o,o+i));return o+=i,{ref:null,topic:s,event:a,payload:JSON.parse(n.decode(t.slice(o,t.byteLength)))}}}class A{constructor(t,e,n={},r=1e4){this.channel=t,this.event=e,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,"rate limited"===this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})&&(this.rateLimited=!0))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var n;return this._hasReceived(t)&&e(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},(t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout))}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter((e=>e.status===t)).forEach((t=>t.callback(e)))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}!function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"}(S||(S={}));class j{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null==e?void 0:e.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},(t=>{const{onJoin:e,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=j.syncState(this.state,t,e,n),this.pendingDiffs.forEach((t=>{this.state=j.syncDiff(this.state,t,e,n)})),this.pendingDiffs=[],r()})),this.channel._on(n.diff,{},(t=>{const{onJoin:e,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(t):(this.state=j.syncDiff(this.state,t,e,n),r())})),this.onJoin(((t,e,n)=>{this.channel._trigger("presence",{event:"join",key:t,currentPresences:e,newPresences:n})})),this.onLeave(((t,e,n)=>{this.channel._trigger("presence",{event:"leave",key:t,currentPresences:e,leftPresences:n})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(t,e,n,r){const i=this.cloneDeep(t),o=this.transformState(e),s={},a={};return this.map(i,((t,e)=>{o[t]||(a[t]=e)})),this.map(o,((t,e)=>{const n=i[t];if(n){const r=e.map((t=>t.presence_ref)),i=n.map((t=>t.presence_ref)),o=e.filter((t=>i.indexOf(t.presence_ref)<0)),u=n.filter((t=>r.indexOf(t.presence_ref)<0));o.length>0&&(s[t]=o),u.length>0&&(a[t]=u)}else s[t]=e})),this.syncDiff(i,{joins:s,leaves:a},n,r)}static syncDiff(t,e,n,r){const{joins:i,leaves:o}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,((e,r)=>{var i;const o=null!==(i=t[e])&&void 0!==i?i:[];if(t[e]=this.cloneDeep(r),o.length>0){const n=t[e].map((t=>t.presence_ref)),r=o.filter((t=>n.indexOf(t.presence_ref)<0));t[e].unshift(...r)}n(e,o,r)})),this.map(o,((e,n)=>{let i=t[e];if(!i)return;const o=n.map((t=>t.presence_ref));i=i.filter((t=>o.indexOf(t.presence_ref)<0)),t[e]=i,r(e,i,n),0===i.length&&delete t[e]})),t}static map(t,e){return Object.getOwnPropertyNames(t).map((n=>e(n,t[n])))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce(((e,n)=>{const r=t[n];return e[n]="metas"in r?r.metas.map((t=>(t.presence_ref=t.phx_ref,delete t.phx_ref,delete t.phx_ref_prev,t))):r,e}),{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"}(E||(E={}));const R=(t,e,n={})=>{var r;const i=null!==(r=n.skipTypes)&&void 0!==r?r:[];return Object.keys(e).reduce(((n,r)=>(n[r]=I(r,t,e,i),n)),{})},I=(t,e,n,r)=>{const i=e.find((e=>e.name===t)),o=null==i?void 0:i.type,s=n[t];return o&&!r.includes(o)?k(o,s):P(s)},k=(t,e)=>{if("_"===t.charAt(0)){const n=t.slice(1,t.length);return L(e,n)}switch(t){case E.bool:return C(e);case E.float4:case E.float8:case E.int2:case E.int4:case E.int8:case E.numeric:case E.oid:return D(e);case E.json:case E.jsonb:return $(e);case E.timestamp:return U(e);case E.abstime:case E.date:case E.daterange:case E.int4range:case E.int8range:case E.money:case E.reltime:case E.text:case E.time:case E.timestamptz:case E.timetz:case E.tsrange:case E.tstzrange:default:return P(e)}},P=t=>t,C=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},D=t=>{if("string"==typeof t){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},$=t=>{if("string"==typeof t)try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},L=(t,e)=>{if("string"!=typeof t)return t;const n=t.length-1,r=t[n];if("{"===t[0]&&"}"===r){let r;const i=t.slice(1,n);try{r=JSON.parse("["+i+"]")}catch(t){r=i?i.split(","):[]}return r.map((t=>k(e,t)))}return t},U=t=>"string"==typeof t?t.replace(" ","T"):t;var M,N,F,z=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))};!function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"}(M||(M={})),function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes"}(N||(N={})),function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"}(F||(F={}));class B{constructor(t,e={config:{}},n){this.topic=t,this.params=e,this.socket=n,this.bindings={},this.state=m.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},e.config),this.timeout=this.socket.timeout,this.joinPush=new A(this,b.join,this.params,this.timeout),this.rejoinTimer=new O((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=m.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((t=>t.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=m.closed,this.socket._remove(this)})),this._onError((t=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,t),this.state=m.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=m.errored,this.rejoinTimer.scheduleTimeout())})),this._on(b.reply,{},((t,e)=>{this._trigger(this._replyEventName(e),t)})),this.presence=new j(this)}subscribe(t,e=this.timeout){var n,r;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o}}=this.params;this._onError((e=>t&&t("CHANNEL_ERROR",e))),this._onClose((()=>t&&t("CLOSED")));const s={},a={broadcast:i,presence:o,postgres_changes:null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map((t=>t.filter)))&&void 0!==r?r:[]};this.socket.accessToken&&(s.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:a},s)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",(({postgres_changes:e})=>{var n;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0!==e){const r=this.bindings.postgres_changes,i=null!==(n=null==r?void 0:r.length)&&void 0!==n?n:0,o=[];for(let n=0;n<i;n++){const i=r[n],{filter:{event:s,schema:a,table:u,filter:c}}=i,l=e&&e[n];if(!l||l.event!==s||l.schema!==a||l.table!==u||l.filter!==c)return this.unsubscribe(),void(t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes")));o.push(Object.assign(Object.assign({},i),{id:l.id}))}return this.bindings.postgres_changes=o,void(t&&t("SUBSCRIBED"))}t&&t("SUBSCRIBED")})).receive("error",(e=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(e).join(", ")||"error")))})).receive("timeout",(()=>{t&&t("TIMED_OUT")}))}return this}presenceState(){return this.presence.state}track(t,e={}){return z(this,void 0,void 0,(function*(){return yield this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}))}untrack(t={}){return z(this,void 0,void 0,(function*(){return yield this.send({type:"presence",event:"untrack"},t)}))}on(t,e,n){return this._on(t,e,n)}send(t,e={}){return new Promise((n=>{var r,i,o;const s=this._push(t.type,t,e.timeout||this.timeout);s.rateLimited&&n("rate limited"),"broadcast"!==t.type||(null===(o=null===(i=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===i?void 0:i.broadcast)||void 0===o?void 0:o.ack)||n("ok"),s.receive("ok",(()=>n("ok"))),s.receive("timeout",(()=>n("timed out")))}))}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=m.leaving;const e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(b.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((n=>{const r=new A(this,b.leave,{},t);r.receive("ok",(()=>{e(),n("ok")})).receive("timeout",(()=>{e(),n("timed out")})).receive("error",(()=>{n("error")})),r.send(),this._canPush()||r.trigger("ok",{})}))}_push(t,e,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new A(this,t,e,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(t,e,n){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,n){var r,i;const o=t.toLocaleLowerCase(),{close:s,error:a,leave:u,join:c}=b;if(n&&[s,a,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let l=this._onMessage(o,e,n);if(e&&!l)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter((t=>{var e,n,r;return"*"===(null===(e=t.filter)||void 0===e?void 0:e.event)||(null===(r=null===(n=t.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===o})).map((t=>t.callback(l,n))):null===(i=this.bindings[o])||void 0===i||i.filter((t=>{var n,r,i,s,a,u;if(["broadcast","presence","postgres_changes"].includes(o)){if("id"in t){const o=t.id,s=null===(n=t.filter)||void 0===n?void 0:n.event;return o&&(null===(r=e.ids)||void 0===r?void 0:r.includes(o))&&("*"===s||(null==s?void 0:s.toLocaleLowerCase())===(null===(i=e.data)||void 0===i?void 0:i.type.toLocaleLowerCase()))}{const n=null===(a=null===(s=null==t?void 0:t.filter)||void 0===s?void 0:s.event)||void 0===a?void 0:a.toLocaleLowerCase();return"*"===n||n===(null===(u=null==e?void 0:e.event)||void 0===u?void 0:u.toLocaleLowerCase())}}return t.type.toLocaleLowerCase()===o})).map((t=>{if("object"==typeof l&&"ids"in l){const t=l.data,{schema:e,table:n,commit_timestamp:r,type:i,errors:o}=t,s={schema:e,table:n,commit_timestamp:r,eventType:i,new:{},old:{},errors:o};l=Object.assign(Object.assign({},s),this._getPayloadRecords(t))}t.callback(l,n)}))}_isClosed(){return this.state===m.closed}_isJoined(){return this.state===m.joined}_isJoining(){return this.state===m.joining}_isLeaving(){return this.state===m.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,n){const r=t.toLocaleLowerCase(),i={type:r,filter:e,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(t,e){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter((t=>{var r;return!((null===(r=t.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&B.isEqual(t.filter,e))})),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(b.close,{},t)}_onError(t){this._on(b.error,{},(e=>t(e)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=m.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const e={new:{},old:{}};return"INSERT"!==t.type&&"UPDATE"!==t.type||(e.new=R(t.columns,t.record)),"UPDATE"!==t.type&&"DELETE"!==t.type||(e.old=R(t.columns,t.old_record)),e}}const V=()=>{};class W{constructor(t,e){var n;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=_,this.params={},this.timeout=1e4,this.transport=g.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=V,this.conn=null,this.sendBuffer=[],this.serializer=new x,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint=`${t}/${w.websocket}`,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),(null==e?void 0:e.timeout)&&(this.timeout=e.timeout),(null==e?void 0:e.logger)&&(this.logger=e.logger),(null==e?void 0:e.transport)&&(this.transport=e.transport),(null==e?void 0:e.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);const r=null===(n=null==e?void 0:e.params)||void 0===n?void 0:n.eventsPerSecond;r&&(this.eventsPerSecondLimitMs=Math.floor(1e3/r)),this.reconnectAfterMs=(null==e?void 0:e.reconnectAfterMs)?e.reconnectAfterMs:t=>[1e3,2e3,5e3,1e4][t-1]||1e4,this.encode=(null==e?void 0:e.encode)?e.encode:(t,e)=>e(JSON.stringify(t)),this.decode=(null==e?void 0:e.decode)?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new O((()=>{return t=this,e=void 0,r=function*(){this.disconnect(),this.connect()},new((n=void 0)||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}));var t,e,n,r}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t)))}disconnect(t,e){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,null!=e?e:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(t){return t.unsubscribe().then((t=>(0===this.channels.length&&this.disconnect(),t)))}removeAllChannels(){return Promise.all(this.channels.map((t=>t.unsubscribe()))).then((t=>(this.disconnect(),t)))}log(t,e,n){this.logger(t,e,n)}connectionState(){switch(this.conn&&this.conn.readyState){case y.connecting:return T.Connecting;case y.open:return T.Open;case y.closing:return T.Closing;default:return T.Closed}}isConnected(){return this.connectionState()===T.Open}channel(t,e={config:{}}){this.isConnected()||this.connect();const n=new B(`realtime:${t}`,e,this);return this.channels.push(n),n}push(t){const{topic:e,event:n,payload:r,ref:i}=t;let o=()=>{this.encode(t,(t=>{var e;null===(e=this.conn)||void 0===e||e.send(t)}))};if(this.log("push",`${e} ${n} (${i})`,r),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(n)){if(this._throttle(o)())return"rate limited"}else o();else this.sendBuffer.push(o)}setAuth(t){this.accessToken=t,this.channels.forEach((e=>{t&&e.updateJoinPayload({access_token:t}),e.joinedOnce&&e._isJoined()&&e._push(b.access_token,{access_token:t})}))}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find((e=>e.topic===t&&(e._isJoined()||e._isJoining())));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter((e=>e._joinRef()!==t._joinRef()))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(t){this.decode(t.data,(t=>{let{topic:e,event:n,payload:r,ref:i}=t;(i&&i===this.pendingHeartbeatRef||n===(null==r?void 0:r.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${e} ${n} ${i&&"("+i+")"||""}`,r),this.channels.filter((t=>t._isMember(e))).forEach((t=>t._trigger(n,r,i))),this.stateChangeCallbacks.message.forEach((e=>e(t)))}))}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this._sendHeartbeat()),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach((t=>t()))}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((e=>e(t)))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((e=>e(t)))}_triggerChanError(){this.channels.forEach((t=>t._trigger(b.error)))}_appendParams(t,e){if(0===Object.keys(e).length)return t;const n=t.match(/\?/)?"&":"?";return`${t}${n}${new URLSearchParams(e)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((t=>t())),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(t=this.conn)||void 0===t||t.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(t,e=this.eventsPerSecondLimitMs){return()=>!!this.inThrottle||(t(),this.inThrottle=!0,setTimeout((()=>{this.inThrottle=!1}),e),!1)}}class H extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function q(t){return"object"==typeof t&&null!==t&&"__isStorageError"in t}class G extends H{constructor(t,e){super(t),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class J extends H{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}}var X=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))};const Y=t=>{let e;return e=t||("undefined"==typeof fetch?(...t)=>X(void 0,void 0,void 0,(function*(){return yield(yield Promise.resolve().then(n.t.bind(n,98,23))).fetch(...t)})):fetch),(...t)=>e(...t)};var K=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))};const Z=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t);function Q(t,e,r,i,o,s){return K(this,void 0,void 0,(function*(){return new Promise(((a,u)=>{t(r,((t,e,n,r)=>{const i={method:t,headers:(null==e?void 0:e.headers)||{}};return"GET"===t?i:(i.headers=Object.assign({"Content-Type":"application/json"},null==e?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))})(e,i,o,s)).then((t=>{if(!t.ok)throw t;return(null==i?void 0:i.noResolveJson)?t:t.json()})).then((t=>a(t))).catch((t=>((t,e)=>K(void 0,void 0,void 0,(function*(){const r=yield X(void 0,void 0,void 0,(function*(){return"undefined"==typeof Response?(yield Promise.resolve().then(n.t.bind(n,98,23))).Response:Response}));t instanceof r?t.json().then((n=>{e(new G(Z(n),t.status||500))})):e(new J(Z(t),t))})))(t,u)))}))}))}function tt(t,e,n,r){return K(this,void 0,void 0,(function*(){return Q(t,"GET",e,n,r)}))}function et(t,e,n,r,i){return K(this,void 0,void 0,(function*(){return Q(t,"POST",e,r,i,n)}))}function nt(t,e,n,r,i){return K(this,void 0,void 0,(function*(){return Q(t,"DELETE",e,r,i,n)}))}var rt=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))};const it={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ot={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class st{constructor(t,e={},n,r){this.url=t,this.headers=e,this.bucketId=n,this.fetch=Y(r)}uploadOrUpdate(t,e,n,r){return rt(this,void 0,void 0,(function*(){try{let i;const o=Object.assign(Object.assign({},ot),r),s=Object.assign(Object.assign({},this.headers),"POST"===t&&{"x-upsert":String(o.upsert)});"undefined"!=typeof Blob&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),i.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl)):(i=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType);const a=this._removeEmptyFolders(e),u=this._getFinalPath(a),c=yield this.fetch(`${this.url}/object/${u}`,{method:t,body:i,headers:s});return c.ok?{data:{path:a},error:null}:{data:null,error:yield c.json()}}catch(t){if(q(t))return{data:null,error:t};throw t}}))}upload(t,e,n){return rt(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",t,e,n)}))}update(t,e,n){return rt(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",t,e,n)}))}move(t,e){return rt(this,void 0,void 0,(function*(){try{return{data:yield et(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e},{headers:this.headers}),error:null}}catch(t){if(q(t))return{data:null,error:t};throw t}}))}copy(t,e){return rt(this,void 0,void 0,(function*(){try{return{data:{path:(yield et(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e},{headers:this.headers})).Key},error:null}}catch(t){if(q(t))return{data:null,error:t};throw t}}))}createSignedUrl(t,e,n){return rt(this,void 0,void 0,(function*(){try{const r=this._getFinalPath(t);let i=yield et(this.fetch,`${this.url}/object/sign/${r}`,{expiresIn:e},{headers:this.headers});const o=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(t){if(q(t))return{data:null,error:t};throw t}}))}createSignedUrls(t,e,n){return rt(this,void 0,void 0,(function*(){try{const r=yield et(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),i=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:r.map((t=>Object.assign(Object.assign({},t),{signedUrl:t.signedURL?encodeURI(`${this.url}${t.signedURL}${i}`):null}))),error:null}}catch(t){if(q(t))return{data:null,error:t};throw t}}))}download(t){return rt(this,void 0,void 0,(function*(){try{const e=this._getFinalPath(t),n=yield tt(this.fetch,`${this.url}/object/${e}`,{headers:this.headers,noResolveJson:!0});return{data:yield n.blob(),error:null}}catch(t){if(q(t))return{data:null,error:t};throw t}}))}getPublicUrl(t,e){const n=this._getFinalPath(t),r=(null==e?void 0:e.download)?`?download=${!0===e.download?"":e.download}`:"";return{data:{publicUrl:encodeURI(`${this.url}/object/public/${n}${r}`)}}}remove(t){return rt(this,void 0,void 0,(function*(){try{return{data:yield nt(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(t){if(q(t))return{data:null,error:t};throw t}}))}list(t,e,n){return rt(this,void 0,void 0,(function*(){try{const r=Object.assign(Object.assign(Object.assign({},it),e),{prefix:t||""});return{data:yield et(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(t){if(q(t))return{data:null,error:t};throw t}}))}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}}const at={"X-Client-Info":"storage-js/2.0.0"};var ut=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))};class ct{constructor(t,e={},n){this.url=t,this.headers=Object.assign(Object.assign({},at),e),this.fetch=Y(n)}listBuckets(){return ut(this,void 0,void 0,(function*(){try{return{data:yield tt(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(q(t))return{data:null,error:t};throw t}}))}getBucket(t){return ut(this,void 0,void 0,(function*(){try{return{data:yield tt(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(t){if(q(t))return{data:null,error:t};throw t}}))}createBucket(t,e={public:!1}){return ut(this,void 0,void 0,(function*(){try{return{data:yield et(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:e.public},{headers:this.headers}),error:null}}catch(t){if(q(t))return{data:null,error:t};throw t}}))}updateBucket(t,e){return ut(this,void 0,void 0,(function*(){try{const n=yield function(t,e,n,r,i){return K(this,void 0,void 0,(function*(){return Q(t,"PUT",e,r,undefined,n)}))}(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public},{headers:this.headers});return{data:n,error:null}}catch(t){if(q(t))return{data:null,error:t};throw t}}))}emptyBucket(t){return ut(this,void 0,void 0,(function*(){try{return{data:yield et(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(q(t))return{data:null,error:t};throw t}}))}deleteBucket(t){return ut(this,void 0,void 0,(function*(){try{return{data:yield nt(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(t){if(q(t))return{data:null,error:t};throw t}}))}}class lt extends ct{constructor(t,e={},n){super(t,e,n)}from(t){return new st(this.url,this.headers,t,this.fetch)}}const ht=t=>{let e;return e=t||("undefined"==typeof fetch?c():fetch),(...t)=>e(...t)},ft=(t,e,n)=>{const r=ht(n),i="undefined"==typeof Headers?u.Headers:Headers;return(n,o)=>{return s=void 0,a=void 0,c=function*(){var s;const a=null!==(s=yield e())&&void 0!==s?s:t;let u=new i(null==o?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),r(n,Object.assign(Object.assign({},o),{headers:u}))},new((u=void 0)||(u=Promise))((function(t,e){function n(t){try{i(c.next(t))}catch(t){e(t)}}function r(t){try{i(c.throw(t))}catch(t){e(t)}}function i(e){var i;e.done?t(e.value):(i=e.value,i instanceof u?i:new u((function(t){t(i)}))).then(n,r)}i((c=c.apply(s,a||[])).next())}));var s,a,u,c}};var dt=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))};const pt=()=>"undefined"!=typeof window;function vt(t,e){var n;e||(e=(null===(n=null===window||void 0===window?void 0:window.location)||void 0===n?void 0:n.href)||""),t=t.replace(/[\[\]]/g,"\\$&");const r=new RegExp("[?&#]"+t+"(=([^&#]*)|&|#|$)").exec(e);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}const gt=t=>{let e;return e=t||("undefined"==typeof fetch?(...t)=>dt(void 0,void 0,void 0,(function*(){return yield(yield Promise.resolve().then(n.t.bind(n,98,23))).fetch(...t)})):fetch),(...t)=>e(...t)},_t=(t,e)=>dt(void 0,void 0,void 0,(function*(){const n=yield t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch(t){return n}}));class yt{constructor(){this.promise=new yt.promiseConstructor(((t,e)=>{this.resolve=t,this.reject=e}))}}function mt(t){const e=t.split(".");if(3!==e.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(e[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=e[1];return JSON.parse((t=>{try{return decodeURIComponent(atob(t.replace(/[-]/g,"+").replace(/[_]/g,"/")).split("").map((t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2))).join(""))}catch(e){if(e instanceof ReferenceError)return Buffer.from(t,"base64").toString("utf-8");throw e}})(n))}yt.promiseConstructor=Promise;class bt extends Error{constructor(t){super(t),this.__isAuthError=!0,this.name="AuthError"}}function wt(t){return"object"==typeof t&&null!==t&&"__isAuthError"in t}class Tt extends bt{constructor(t,e){super(t),this.name="AuthApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function St(t){return wt(t)&&"AuthApiError"===t.name}class Et extends bt{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}}class Ot extends bt{constructor(t,e,n){super(t),this.name=e,this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class xt extends Ot{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class At extends Ot{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class jt extends Ot{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Rt extends Ot{constructor(t,e){super(t,"AuthRetryableFetchError",e)}}var It=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))};const kt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t);function Pt(t,e,n,r){var i;return It(this,void 0,void 0,(function*(){const o=Object.assign({},null==r?void 0:r.headers);(null==r?void 0:r.jwt)&&(o.Authorization=`Bearer ${r.jwt}`);const s=null!==(i=null==r?void 0:r.query)&&void 0!==i?i:{};(null==r?void 0:r.redirectTo)&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",u=yield function(t,e,n,r,i,o){return It(this,void 0,void 0,(function*(){return new Promise(((s,a)=>{t(n,((t,e,n,r)=>{const i={method:t,headers:(null==e?void 0:e.headers)||{}};return"GET"===t?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==e?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))})(e,r,i,o)).then((t=>{if(!t.ok)throw t;return(null==r?void 0:r.noResolveJson)?t:t.json()})).then((t=>s(t))).catch((t=>((t,e)=>It(void 0,void 0,void 0,(function*(){var n;"object"==typeof(n=t)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"==typeof n.json?[502,503,504].includes(t.status)?e(new Rt(kt(t),t.status)):t.json().then((n=>{e(new Tt(kt(n),t.status||500))})).catch((t=>{e(new Et(kt(t),t))})):e(new Rt(kt(t),0))})))(t,a)))}))}))}(t,e,n+a,{headers:o,noResolveJson:null==r?void 0:r.noResolveJson},{},null==r?void 0:r.body);return(null==r?void 0:r.xform)?null==r?void 0:r.xform(u):{data:Object.assign({},u),error:null}}))}function Ct(t){var e;let n=null;var r;return function(t){return t.access_token&&t.refresh_token&&t.expires_in}(t)&&(n=Object.assign({},t),n.expires_at=(r=t.expires_in,Math.round(Date.now()/1e3)+r)),{data:{session:n,user:null!==(e=t.user)&&void 0!==e?e:t},error:null}}function Dt(t){var e;return{data:{user:null!==(e=t.user)&&void 0!==e?e:t},error:null}}function $t(t){return{data:t,error:null}}function Lt(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,s=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},user:Object.assign({},s)},error:null}}var Ut=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))};class Mt{constructor({url:t="",headers:e={},fetch:n}){this.url=t,this.headers=e,this.fetch=gt(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(t){return Ut(this,void 0,void 0,(function*(){try{return yield Pt(this.fetch,"POST",`${this.url}/logout`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(t){if(wt(t))return{data:null,error:t};throw t}}))}inviteUserByEmail(t,e={}){return Ut(this,void 0,void 0,(function*(){try{return yield Pt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:Dt})}catch(t){if(wt(t))return{data:{user:null},error:t};throw t}}))}generateLink(t){return Ut(this,void 0,void 0,(function*(){try{const{options:e}=t,n=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(t,["options"]),r=Object.assign(Object.assign({},n),e);return"newEmail"in n&&(r.new_email=null==n?void 0:n.newEmail,delete r.newEmail),yield Pt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Lt,redirectTo:null==e?void 0:e.redirectTo})}catch(t){if(wt(t))return{data:{properties:null,user:null},error:t};throw t}}))}createUser(t){return Ut(this,void 0,void 0,(function*(){try{return yield Pt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Dt})}catch(t){if(wt(t))return{data:{user:null},error:t};throw t}}))}listUsers(){return Ut(this,void 0,void 0,(function*(){try{const{data:t,error:e}=yield Pt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers});if(e)throw e;return{data:Object.assign({},t),error:null}}catch(t){if(wt(t))return{data:{users:[]},error:t};throw t}}))}getUserById(t){return Ut(this,void 0,void 0,(function*(){try{return yield Pt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Dt})}catch(t){if(wt(t))return{data:{user:null},error:t};throw t}}))}updateUserById(t,e){return Ut(this,void 0,void 0,(function*(){try{return yield Pt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:Dt})}catch(t){if(wt(t))return{data:{user:null},error:t};throw t}}))}deleteUser(t){return Ut(this,void 0,void 0,(function*(){try{return yield Pt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Dt})}catch(t){if(wt(t))return{data:{user:null},error:t};throw t}}))}_listFactors(t){return Ut(this,void 0,void 0,(function*(){try{return{data:yield Pt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers}),error:null}}catch(t){if(wt(t))return{data:null,error:t};throw t}}))}_deleteFactor(t){return Ut(this,void 0,void 0,(function*(){try{return{data:yield Pt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(t){if(wt(t))return{data:null,error:t};throw t}}))}}const Nt={getItem:t=>pt()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{pt()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{pt()&&globalThis.localStorage.removeItem(t)}};var Ft=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))};!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(t){"undefined"!=typeof self&&(self.globalThis=self)}}();const zt={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.4.2"}};class Bt{constructor(t){this.stateChangeEmitters=new Map,this.networkRetries=0,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0;const e=Object.assign(Object.assign({},zt),t);this.inMemorySession=null,this.storageKey=e.storageKey,this.autoRefreshToken=e.autoRefreshToken,this.persistSession=e.persistSession,this.storage=e.storage||Nt,this.admin=new Mt({url:e.url,headers:e.headers,fetch:e.fetch}),this.url=e.url,this.headers=e.headers,this.fetch=gt(e.fetch),this.detectSessionInUrl=e.detectSessionInUrl,this.initialize(),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)}}initialize(){return this.initializePromise||(this.initializePromise=this._initialize()),this.initializePromise}_initialize(){return Ft(this,void 0,void 0,(function*(){if(this.initializePromise)return this.initializePromise;try{if(this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:t,error:e}=yield this._getSessionFromUrl();if(e)return yield this._removeSession(),{error:e};const{session:n,redirectType:r}=t;return yield this._saveSession(n),this._notifyAllSubscribers("SIGNED_IN",n),"recovery"===r&&this._notifyAllSubscribers("PASSWORD_RECOVERY",n),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(t){return wt(t)?{error:t}:{error:new Et("Unexpected error during initialization",t)}}finally{this._handleVisibilityChange()}}))}signUp(t){var e,n;return Ft(this,void 0,void 0,(function*(){try{let r;if(yield this._removeSession(),"email"in t){const{email:n,password:i,options:o}=t;r=yield Pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==o?void 0:o.emailRedirectTo,body:{email:n,password:i,data:null!==(e=null==o?void 0:o.data)&&void 0!==e?e:{},gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:Ct})}else{if(!("phone"in t))throw new At("You must provide either an email or phone number and a password");{const{phone:e,password:i,options:o}=t;r=yield Pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:e,password:i,data:null!==(n=null==o?void 0:o.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:Ct})}}const{data:i,error:o}=r;if(o||!i)return{data:{user:null,session:null},error:o};const s=i.session,a=i.user;return i.session&&(yield this._saveSession(i.session),this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:a,session:s},error:null}}catch(t){if(wt(t))return{data:{user:null,session:null},error:t};throw t}}))}signInWithPassword(t){var e,n;return Ft(this,void 0,void 0,(function*(){try{let r;if(yield this._removeSession(),"email"in t){const{email:n,password:i,options:o}=t;r=yield Pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:i,data:null!==(e=null==o?void 0:o.data)&&void 0!==e?e:{},gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:Ct})}else{if(!("phone"in t))throw new At("You must provide either an email or phone number and a password");{const{phone:e,password:i,options:o}=t;r=yield Pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:e,password:i,data:null!==(n=null==o?void 0:o.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:Ct})}}const{data:i,error:o}=r;return o||!i?{data:{user:null,session:null},error:o}:(i.session&&(yield this._saveSession(i.session),this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:i,error:o})}catch(t){if(wt(t))return{data:{user:null,session:null},error:t};throw t}}))}signInWithOAuth(t){var e,n,r;return Ft(this,void 0,void 0,(function*(){return yield this._removeSession(),this._handleProviderSignIn(t.provider,{redirectTo:null===(e=t.options)||void 0===e?void 0:e.redirectTo,scopes:null===(n=t.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=t.options)||void 0===r?void 0:r.queryParams})}))}signInWithOtp(t){var e,n,r,i;return Ft(this,void 0,void 0,(function*(){try{if(yield this._removeSession(),"email"in t){const{email:r,options:i}=t,{error:o}=yield Pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(e=null==i?void 0:i.data)&&void 0!==e?e:{},create_user:null===(n=null==i?void 0:i.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},redirectTo:null==i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in t){const{phone:e,options:n}=t,{error:o}=yield Pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:e,data:null!==(r=null==n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(i=null==n?void 0:n.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}}});return{data:{user:null,session:null},error:o}}throw new At("You must provide either an email or phone number.")}catch(t){if(wt(t))return{data:{user:null,session:null},error:t};throw t}}))}verifyOtp(t){var e,n;return Ft(this,void 0,void 0,(function*(){try{yield this._removeSession();const{data:r,error:i}=yield Pt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:null===(e=t.options)||void 0===e?void 0:e.captchaToken}}),redirectTo:null===(n=t.options)||void 0===n?void 0:n.redirectTo,xform:Ct});if(i)throw i;if(!r)throw"An error occurred on token verification.";const o=r.session,s=r.user;return(null==o?void 0:o.access_token)&&(yield this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:s,session:o},error:null}}catch(t){if(wt(t))return{data:{user:null,session:null},error:t};throw t}}))}signInWithSSO(t){var e,n,r;return Ft(this,void 0,void 0,(function*(){try{return yield this._removeSession(),yield Pt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:null!==(n=null===(e=t.options)||void 0===e?void 0:e.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null==t?void 0:t.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:$t})}catch(t){if(wt(t))return{data:null,error:t};throw t}}))}getSession(){return Ft(this,void 0,void 0,(function*(){yield this.initializePromise;let t=null;if(this.persistSession){const e=yield _t(this.storage,this.storageKey);null!==e&&(this._isValidSession(e)?t=e:yield this._removeSession())}else t=this.inMemorySession;if(!t)return{data:{session:null},error:null};if(!(t.expires_at&&t.expires_at<=Date.now()/1e3))return{data:{session:t},error:null};const{session:e,error:n}=yield this._callRefreshToken(t.refresh_token);return n?{data:{session:null},error:n}:{data:{session:e},error:null}}))}getUser(t){var e,n;return Ft(this,void 0,void 0,(function*(){try{if(!t){const{data:r,error:i}=yield this.getSession();if(i)throw i;t=null!==(n=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==n?n:void 0}return yield Pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Dt})}catch(t){if(wt(t))return{data:{user:null},error:t};throw t}}))}updateUser(t){return Ft(this,void 0,void 0,(function*(){try{const{data:e,error:n}=yield this.getSession();if(n)throw n;if(!e.session)throw new xt;const r=e.session,{data:i,error:o}=yield Pt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,body:t,jwt:r.access_token,xform:Dt});if(o)throw o;return r.user=i.user,yield this._saveSession(r),this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}}catch(t){if(wt(t))return{data:{user:null},error:t};throw t}}))}_decodeJWT(t){return mt(t)}setSession(t){return Ft(this,void 0,void 0,(function*(){try{if(!t.access_token||!t.refresh_token)throw new xt;const e=Date.now()/1e3;let n=e,r=!0,i=null;const o=mt(t.access_token);if(o.exp&&(n=o.exp,r=n<=e),r){const{session:e,error:n}=yield this._callRefreshToken(t.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!e)return{data:{user:null,session:null},error:null};i=e}else{const{data:r,error:o}=yield this.getUser(t.access_token);if(o)throw o;i={access_token:t.access_token,refresh_token:t.refresh_token,user:r.user,token_type:"bearer",expires_in:n-e,expires_at:n},yield this._saveSession(i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(wt(t))return{data:{session:null,user:null},error:t};throw t}}))}refreshSession(t){var e;return Ft(this,void 0,void 0,(function*(){try{if(!t){const{data:n,error:r}=yield this.getSession();if(r)throw r;t=null!==(e=n.session)&&void 0!==e?e:void 0}if(!(null==t?void 0:t.refresh_token))throw new xt;const{session:n,error:r}=yield this._callRefreshToken(t.refresh_token);return r?{data:{user:null,session:null},error:r}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}}catch(t){if(wt(t))return{data:{user:null,session:null},error:t};throw t}}))}_getSessionFromUrl(){return Ft(this,void 0,void 0,(function*(){try{if(!pt())throw new jt("No browser detected.");if(!this._isImplicitGrantFlow())throw new jt("Not a valid implicit grant flow url.");const t=vt("error_description");if(t){const e=vt("error_code");if(!e)throw new jt("No error_code detected.");const n=vt("error");if(!n)throw new jt("No error detected.");throw new jt(t,{error:n,code:e})}const e=vt("provider_token"),n=vt("provider_refresh_token"),r=vt("access_token");if(!r)throw new jt("No access_token detected.");const i=vt("expires_in");if(!i)throw new jt("No expires_in detected.");const o=vt("refresh_token");if(!o)throw new jt("No refresh_token detected.");const s=vt("token_type");if(!s)throw new jt("No token_type detected.");const a=Math.round(Date.now()/1e3)+parseInt(i),{data:u,error:c}=yield this.getUser(r);if(c)throw c;const l=u.user,h={provider_token:e,provider_refresh_token:n,access_token:r,expires_in:parseInt(i),expires_at:a,refresh_token:o,token_type:s,user:l},f=vt("type");return window.location.hash="",{data:{session:h,redirectType:f},error:null}}catch(t){if(wt(t))return{data:{session:null,redirectType:null},error:t};throw t}}))}_isImplicitGrantFlow(){return pt()&&(Boolean(vt("access_token"))||Boolean(vt("error_description")))}signOut(){var t;return Ft(this,void 0,void 0,(function*(){const{data:e,error:n}=yield this.getSession();if(n)return{error:n};const r=null===(t=e.session)||void 0===t?void 0:t.access_token;if(r){const{error:t}=yield this.admin.signOut(r);if(t&&(!St(t)||404!==t.status&&401!==t.status))return{error:t}}return yield this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT",null),{error:null}}))}onAuthStateChange(t){const e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){const e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})),n={id:e,callback:t,unsubscribe:()=>{this.stateChangeEmitters.delete(e)}};return this.stateChangeEmitters.set(e,n),{data:{subscription:n}}}resetPasswordForEmail(t,e={}){return Ft(this,void 0,void 0,(function*(){try{return yield Pt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,gotrue_meta_security:{captcha_token:e.captchaToken}},headers:this.headers,redirectTo:e.redirectTo})}catch(t){if(wt(t))return{data:null,error:t};throw t}}))}_refreshAccessToken(t){return Ft(this,void 0,void 0,(function*(){try{return yield Pt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ct})}catch(t){if(wt(t))return{data:{session:null,user:null},error:t};throw t}}))}_isValidSession(t){return"object"==typeof t&&null!==t&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,e={}){const n=this._getUrlForProvider(t,{redirectTo:e.redirectTo,scopes:e.scopes,queryParams:e.queryParams});return pt()&&(window.location.href=n),{data:{provider:t,url:n},error:null}}_recoverAndRefresh(){var t;return Ft(this,void 0,void 0,(function*(){try{const e=yield _t(this.storage,this.storageKey);if(!this._isValidSession(e))return void(null!==e&&(yield this._removeSession()));const n=Math.round(Date.now()/1e3);if((null!==(t=e.expires_at)&&void 0!==t?t:1/0)<n+10)if(this.autoRefreshToken&&e.refresh_token){this.networkRetries++;const{error:t}=yield this._callRefreshToken(e.refresh_token);if(t){if(console.log(t.message),t instanceof Rt&&this.networkRetries<10)return this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),void(this.refreshTokenTimer=setTimeout((()=>this._recoverAndRefresh()),100*Math.pow(2,this.networkRetries)));yield this._removeSession()}this.networkRetries=0}else yield this._removeSession();else this.persistSession&&(yield this._saveSession(e)),this._notifyAllSubscribers("SIGNED_IN",e)}catch(t){return void console.error(t)}}))}_callRefreshToken(t){var e,n;return Ft(this,void 0,void 0,(function*(){if(this.refreshingDeferred)return this.refreshingDeferred.promise;try{if(this.refreshingDeferred=new yt,!t)throw new xt;const{data:e,error:n}=yield this._refreshAccessToken(t);if(n)throw n;if(!e.session)throw new xt;yield this._saveSession(e.session),this._notifyAllSubscribers("TOKEN_REFRESHED",e.session);const r={session:e.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(t){if(wt(t)){const n={session:null,error:t};return null===(e=this.refreshingDeferred)||void 0===e||e.resolve(n),n}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(t),t}finally{this.refreshingDeferred=null}}))}_notifyAllSubscribers(t,e){this.stateChangeEmitters.forEach((n=>n.callback(t,e)))}_saveSession(t){return Ft(this,void 0,void 0,(function*(){this.persistSession||(this.inMemorySession=t);const e=t.expires_at;if(e){const t=e-Math.round(Date.now()/1e3),n=t>10?10:.5;this._startAutoRefreshToken(1e3*(t-n))}this.persistSession&&t.expires_at&&(yield this._persistSession(t))}))}_persistSession(t){return e=this.storage,n=this.storageKey,r=t,dt(void 0,void 0,void 0,(function*(){yield e.setItem(n,JSON.stringify(r))}));var e,n,r}_removeSession(){return Ft(this,void 0,void 0,(function*(){var t,e;this.persistSession?yield(t=this.storage,e=this.storageKey,dt(void 0,void 0,void 0,(function*(){yield t.removeItem(e)}))):this.inMemorySession=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer)}))}_startAutoRefreshToken(t){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),t<=0||!this.autoRefreshToken||(this.refreshTokenTimer=setTimeout((()=>Ft(this,void 0,void 0,(function*(){this.networkRetries++;const{data:{session:t},error:e}=yield this.getSession();if(!e&&t){const{error:e}=yield this._callRefreshToken(t.refresh_token);e||(this.networkRetries=0),e instanceof Rt&&this.networkRetries<10&&this._startAutoRefreshToken(100*Math.pow(2,this.networkRetries))}}))),t),"function"==typeof this.refreshTokenTimer.unref&&this.refreshTokenTimer.unref())}_handleVisibilityChange(){if(!pt()||!(null===window||void 0===window?void 0:window.addEventListener))return!1;try{null===window||void 0===window||window.addEventListener("visibilitychange",(()=>Ft(this,void 0,void 0,(function*(){"visible"===document.visibilityState&&(yield this.initializePromise,yield this._recoverAndRefresh())}))))}catch(t){console.error("_handleVisibilityChange",t)}}_getUrlForProvider(t,e){const n=[`provider=${encodeURIComponent(t)}`];if((null==e?void 0:e.redirectTo)&&n.push(`redirect_to=${encodeURIComponent(e.redirectTo)}`),(null==e?void 0:e.scopes)&&n.push(`scopes=${encodeURIComponent(e.scopes)}`),null==e?void 0:e.queryParams){const t=new URLSearchParams(e.queryParams);n.push(t.toString())}return`${this.url}/authorize?${n.join("&")}`}_unenroll(t){var e;return Ft(this,void 0,void 0,(function*(){const{data:n,error:r}=yield this.getSession();return r?{data:null,error:r}:yield Pt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:null===(e=null==n?void 0:n.session)||void 0===e?void 0:e.access_token})}))}_enroll(t){var e,n;return Ft(this,void 0,void 0,(function*(){const{data:r,error:i}=yield this.getSession();if(i)return{data:null,error:i};const{data:o,error:s}=yield Pt(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:null===(e=null==r?void 0:r.session)||void 0===e?void 0:e.access_token});return s?{data:null,error:s}:((null===(n=null==o?void 0:o.totp)||void 0===n?void 0:n.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})}))}_verify(t){var e;return Ft(this,void 0,void 0,(function*(){const{data:n,error:r}=yield this.getSession();if(r)return{data:null,error:r};const{data:i,error:o}=yield Pt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:null===(e=null==n?void 0:n.session)||void 0===e?void 0:e.access_token});return o?{data:null,error:o}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})}))}_challenge(t){var e;return Ft(this,void 0,void 0,(function*(){const{data:n,error:r}=yield this.getSession();return r?{data:null,error:r}:yield Pt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:null===(e=null==n?void 0:n.session)||void 0===e?void 0:e.access_token})}))}_challengeAndVerify(t){return Ft(this,void 0,void 0,(function*(){const{data:e,error:n}=yield this._challenge({factorId:t.factorId});return n?{data:null,error:n}:yield this._verify({factorId:t.factorId,challengeId:e.id,code:t.code})}))}_listFactors(){return Ft(this,void 0,void 0,(function*(){const{data:{user:t},error:e}=yield this.getUser();if(e)return{data:null,error:e};const n=(null==t?void 0:t.factors)||[],r=n.filter((t=>"totp"===t.factor_type&&"verified"===t.status));return{data:{all:n,totp:r},error:null}}))}_getAuthenticatorAssuranceLevel(){var t,e;return Ft(this,void 0,void 0,(function*(){const{data:{session:n},error:r}=yield this.getSession();if(r)return{data:null,error:r};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const i=this._decodeJWT(n.access_token);let o=null;i.aal&&(o=i.aal);let s=o;return(null!==(e=null===(t=n.user.factors)||void 0===t?void 0:t.filter((t=>"verified"===t.status)))&&void 0!==e?e:[]).length>0&&(s="aal2"),{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:i.amr||[]},error:null}}))}}class Vt extends Bt{constructor(t){super(t)}}const Wt={headers:{"X-Client-Info":"supabase-js/2.1.2"}},Ht={schema:"public"},qt={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},Gt={};class Jt{constructor(t,e,n){var r,i,o,s,a,u,c,l;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");const h=t.replace(/\/$/,"");if(this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,h.match(/(supabase\.co)|(supabase\.in)/)){const t=h.split(".");this.functionsUrl=`${t[0]}.functions.${t[1]}.${t[2]}`}else this.functionsUrl=`${h}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,d=function(t,e){const{db:n,auth:r,realtime:i,global:o}=t,{db:s,auth:a,realtime:u,global:c}=e;return{db:Object.assign(Object.assign({},s),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},u),i),global:Object.assign(Object.assign({},c),o)}}(null!=n?n:{},{db:Ht,realtime:Gt,auth:Object.assign(Object.assign({},qt),{storageKey:f}),global:Wt});this.storageKey=null!==(i=null===(r=d.auth)||void 0===r?void 0:r.storageKey)&&void 0!==i?i:"",this.headers=null!==(s=null===(o=d.global)||void 0===o?void 0:o.headers)&&void 0!==s?s:{},this.auth=this._initSupabaseAuthClient(null!==(a=d.auth)&&void 0!==a?a:{},this.headers,null===(u=d.global)||void 0===u?void 0:u.fetch),this.fetch=ft(e,this._getAccessToken.bind(this),null===(c=d.global)||void 0===c?void 0:c.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},d.realtime)),this.rest=new v(`${h}/rest/v1`,{headers:this.headers,schema:null===(l=d.db)||void 0===l?void 0:l.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new a(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new lt(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}rpc(t,e={},n){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e,n,r,i,o;return n=this,r=void 0,o=function*(){const{data:n}=yield this.auth.getSession();return null!==(e=null===(t=n.session)||void 0===t?void 0:t.access_token)&&void 0!==e?e:null},new((i=void 0)||(i=Promise))((function(t,e){function s(t){try{u(o.next(t))}catch(t){e(t)}}function a(t){try{u(o.throw(t))}catch(t){e(t)}}function u(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,a)}u((o=o.apply(n,r||[])).next())}))}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,storageKey:i},o,s){const a={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Vt({url:this.authUrl,headers:Object.assign(Object.assign({},a),o),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,fetch:s})}_initRealtimeClient(t){return new W(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},null==t?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((t,e)=>{this._handleTokenChanged(t,null==e?void 0:e.access_token,"CLIENT")}))}_handleTokenChanged(t,e,n){"TOKEN_REFRESHED"!==t&&"SIGNED_IN"!==t||this.changedAccessToken===e?"SIGNED_OUT"!==t&&"USER_DELETED"!==t||(this.realtime.setAuth(this.supabaseKey),"STORAGE"==n&&this.auth.signOut()):(this.realtime.setAuth(null!=e?e:null),this.changedAccessToken=e)}}const Xt=(t,e,n)=>new Jt(t,e,n)},98:function(t,e){var n="undefined"!=typeof self?self:this,r=function(){function t(){this.fetch=!1,this.DOMException=n.DOMException}return t.prototype=n,new t}();!function(t){!function(e){var n="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,s="ArrayBuffer"in t;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function c(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function h(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function f(t){this.map={},t instanceof f?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function d(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function v(t){var e=new FileReader,n=p(e);return e.readAsArrayBuffer(t),n}function g(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():s&&i&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=g(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(t)||u(t))?this._bodyArrayBuffer=g(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=d(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var t,e,n,r=d(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,n=p(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(t,e){t=c(t),e=l(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},f.prototype.delete=function(t){delete this.map[c(t)]},f.prototype.get=function(t){return t=c(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(c(t))},f.prototype.set=function(t,e){this.map[c(t)]=l(e)},f.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},f.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),h(t)},f.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),h(t)},f.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),h(t)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(t,e){var n,r,i=(e=e||{}).body;if(t instanceof m){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new f(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),y.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function b(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function w(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new f(e.headers),this.url=e.url||"",this._initBody(t)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},_.call(m.prototype),_.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},w.error=function(){var t=new w(null,{status:0,statusText:""});return t.type="error",t};var T=[301,302,303,307,308];w.redirect=function(t,e){if(-1===T.indexOf(e))throw new RangeError("Invalid status code");return new w(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function S(t,n){return new Promise((function(r,o){var s=new m(t,n);if(s.signal&&s.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new f,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new w(i,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}S.polyfill=!0,t.fetch||(t.fetch=S,t.Headers=f,t.Request=m,t.Response=w),e.Headers=f,e.Request=m,e.Response=w,e.fetch=S,Object.defineProperty(e,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e},284:t=>{var e=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};t.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(t){return e()}try{return __global__||e()}finally{delete Object.prototype.__global__}}()},840:(t,e,n)=>{var r;!function(i,o,s,a){"use strict";var u,c=["","webkit","Moz","MS","ms","o"],l=o.createElement("div"),h=Math.round,f=Math.abs,d=Date.now;function p(t,e,n){return setTimeout(w(t,n),e)}function v(t,e,n){return!!Array.isArray(t)&&(g(t,n[e],n),!0)}function g(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==a)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function _(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),t.apply(this,arguments)}}u="function"!=typeof Object.assign?function(t){if(t===a||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==a&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var y=_((function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&t[r[i]]===a)&&(t[r[i]]=e[r[i]]),i++;return t}),"extend","Use `assign`."),m=_((function(t,e){return y(t,e,!0)}),"merge","Use `assign`.");function b(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&u(r,n)}function w(t,e){return function(){return t.apply(e,arguments)}}function T(t,e){return"function"==typeof t?t.apply(e&&e[0]||a,e):t}function S(t,e){return t===a?e:t}function E(t,e,n){g(j(e),(function(e){t.addEventListener(e,n,!1)}))}function O(t,e,n){g(j(e),(function(e){t.removeEventListener(e,n,!1)}))}function x(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function A(t,e){return t.indexOf(e)>-1}function j(t){return t.trim().split(/\s+/g)}function R(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function I(t){return Array.prototype.slice.call(t,0)}function k(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];R(i,s)<0&&r.push(t[o]),i[o]=s,o++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}function P(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<c.length;){if((r=(n=c[o])?n+i:e)in t)return r;o++}return a}var C=1;function D(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var $="ontouchstart"in i,L=P(i,"PointerEvent")!==a,U=$&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),M="touch",N="mouse",F=["x","y"],z=["clientX","clientY"];function B(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){T(t.options.enable,[t])&&n.handler(e)},this.init()}function V(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&e&&r-i==0,s=12&e&&r-i==0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=W(e)),i>1&&!n.firstMultiple?n.firstMultiple=W(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,u=s?s.center:o.center,c=e.center=H(r);e.timeStamp=d(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=X(u,c),e.distance=J(u,c),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=G(e.deltaX,e.deltaY);var l,h,p=q(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=p.x,e.overallVelocityY=p.y,e.overallVelocity=f(p.x)>f(p.y)?p.x:p.y,e.scale=s?(l=s.pointers,J((h=r)[0],h[1],z)/J(l[0],l[1],z)):1,e.rotation=s?function(t,e){return X(e[1],e[0],z)+X(t[1],t[0],z)}(s.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,s=t.lastInterval||e,u=e.timeStamp-s.timeStamp;if(8!=e.eventType&&(u>25||s.velocity===a)){var c=e.deltaX-s.deltaX,l=e.deltaY-s.deltaY,h=q(u,c,l);r=h.x,i=h.y,n=f(h.x)>f(h.y)?h.x:h.y,o=G(c,l),t.lastInterval=e}else n=s.velocity,r=s.velocityX,i=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var v=t.element;x(e.srcEvent.target,v)&&(v=e.srcEvent.target),e.target=v}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function W(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:h(t.pointers[n].clientX),clientY:h(t.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:e,center:H(e),deltaX:t.deltaX,deltaY:t.deltaY}}function H(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:h(n/e),y:h(r/e)}}function q(t,e,n){return{x:e/t||0,y:n/t||0}}function G(t,e){return t===e?1:f(t)>=f(e)?t<0?2:4:e<0?8:16}function J(t,e,n){n||(n=F);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function X(t,e,n){n||(n=F);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}B.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(D(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&O(this.element,this.evEl,this.domHandler),this.evTarget&&O(this.target,this.evTarget,this.domHandler),this.evWin&&O(D(this.element),this.evWin,this.domHandler)}};var Y={mousedown:1,mousemove:2,mouseup:4},K="mousedown",Z="mousemove mouseup";function Q(){this.evEl=K,this.evWin=Z,this.pressed=!1,B.apply(this,arguments)}b(Q,B,{handler:function(t){var e=Y[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:N,srcEvent:t}))}});var tt={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},et={2:M,3:"pen",4:N,5:"kinect"},nt="pointerdown",rt="pointermove pointerup pointercancel";function it(){this.evEl=nt,this.evWin=rt,B.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(nt="MSPointerDown",rt="MSPointerMove MSPointerUp MSPointerCancel"),b(it,B,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=tt[r],o=et[t.pointerType]||t.pointerType,s=o==M,a=R(e,t.pointerId,"pointerId");1&i&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):12&i&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var ot={touchstart:1,touchmove:2,touchend:4,touchcancel:8},st="touchstart",at="touchstart touchmove touchend touchcancel";function ut(){this.evTarget=st,this.evWin=at,this.started=!1,B.apply(this,arguments)}function ct(t,e){var n=I(t.touches),r=I(t.changedTouches);return 12&e&&(n=k(n.concat(r),"identifier",!0)),[n,r]}b(ut,B,{handler:function(t){var e=ot[t.type];if(1===e&&(this.started=!0),this.started){var n=ct.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:M,srcEvent:t})}}});var lt={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ht="touchstart touchmove touchend touchcancel";function ft(){this.evTarget=ht,this.targetIds={},B.apply(this,arguments)}function dt(t,e){var n=I(t.touches),r=this.targetIds;if(3&e&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,s=I(t.changedTouches),a=[],u=this.target;if(o=n.filter((function(t){return x(t.target,u)})),1===e)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<s.length;)r[s[i].identifier]&&a.push(s[i]),12&e&&delete r[s[i].identifier],i++;return a.length?[k(o.concat(a),"identifier",!0),a]:void 0}function pt(){B.apply(this,arguments);var t=w(this.handler,this);this.touch=new ft(this.manager,t),this.mouse=new Q(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function vt(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,gt.call(this,e)):12&t&&gt.call(this,e)}function gt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)}),2500)}}function _t(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),s=Math.abs(n-i.y);if(o<=25&&s<=25)return!0}return!1}b(ft,B,{handler:function(t){var e=lt[t.type],n=dt.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:M,srcEvent:t})}}),b(pt,B,{handler:function(t,e,n){var r=n.pointerType==M,i=n.pointerType==N;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)vt.call(this,e,n);else if(i&&_t.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var yt=P(l.style,"touchAction"),mt=yt!==a,bt="compute",wt="auto",Tt="manipulation",St="none",Et="pan-x",Ot="pan-y",xt=function(){if(!mt)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||i.CSS.supports("touch-action",n)})),t}();function At(t,e){this.manager=t,this.set(e)}At.prototype={set:function(t){t==bt&&(t=this.compute()),mt&&this.manager.element.style&&xt[t]&&(this.manager.element.style[yt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return g(this.manager.recognizers,(function(e){T(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(A(t,St))return St;var e=A(t,Et),n=A(t,Ot);return e&&n?St:e||n?e?Et:Ot:A(t,Tt)?Tt:wt}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=A(r,St)&&!xt[St],o=A(r,Ot)&&!xt[Ot],s=A(r,Et)&&!xt[Et];if(i){var a=1===t.pointers.length,u=t.distance<2,c=t.deltaTime<250;if(a&&u&&c)return}if(!s||!o)return i||o&&6&n||s&&24&n?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var jt=32;function Rt(t){this.options=u({},this.defaults,t||{}),this.id=C++,this.manager=null,this.options.enable=S(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function It(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function kt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function Pt(t,e){var n=e.manager;return n?n.get(t):t}function Ct(){Rt.apply(this,arguments)}function Dt(){Ct.apply(this,arguments),this.pX=null,this.pY=null}function $t(){Ct.apply(this,arguments)}function Lt(){Rt.apply(this,arguments),this._timer=null,this._input=null}function Ut(){Ct.apply(this,arguments)}function Mt(){Ct.apply(this,arguments)}function Nt(){Rt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ft(t,e){return(e=e||{}).recognizers=S(e.recognizers,Ft.defaults.preset),new zt(t,e)}function zt(t,e){this.options=u({},Ft.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new(this.options.inputClass||(L?it:U?ft:$?pt:Q))(this,V),this.touchAction=new At(this,this.options.touchAction),Bt(this,!0),g(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Bt(t,e){var n,r=t.element;r.style&&(g(t.options.cssProps,(function(i,o){n=P(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}Rt.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(v(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Pt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return v(t,"dropRecognizeWith",this)||(t=Pt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(v(t,"requireFailure",this))return this;var e=this.requireFail;return-1===R(e,t=Pt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(v(t,"dropRequireFailure",this))return this;t=Pt(t,this);var e=R(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+It(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+It(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=jt},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!T(this.options.enable,[this,e]))return this.reset(),void(this.state=jt);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},b(Ct,Rt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(8&n||!i)?16|e:r||i?4&n?8|e:2&e?4|e:2:jt}}),b(Dt,Ct,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push(Ot),24&t&&e.push(Et),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,s=t.deltaY;return i&e.direction||(6&e.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===s?1:s<0?8:16,n=s!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return Ct.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=kt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),b($t,Ct,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[St]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),b(Lt,Rt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[wt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||12&t.eventType&&!i)this.reset();else if(1&t.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return jt},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),b(Ut,Ct,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[St]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),b(Mt,Ct,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Dt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&f(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=kt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),b(Nt,Rt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Tt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||J(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&o?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return jt},failTimeout:function(){return this._timer=p((function(){this.state=jt}),this.options.interval,this),jt},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ft.VERSION="2.0.7",Ft.defaults={domEvents:!1,touchAction:bt,enable:!0,inputTarget:null,inputClass:null,preset:[[Ut,{enable:!1}],[$t,{enable:!1},["rotate"]],[Mt,{direction:6}],[Dt,{direction:6},["swipe"]],[Nt],[Nt,{event:"doubletap",taps:2},["tap"]],[Lt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},zt.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&14&n.state&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Rt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(v(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(v(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=R(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==a&&e!==a){var n=this.handlers;return g(j(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(t!==a){var n=this.handlers;return g(j(t),(function(t){e?n[t]&&n[t].splice(R(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&Bt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Ft,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:jt,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:zt,Input:B,TouchAction:At,TouchInput:ft,MouseInput:Q,PointerEventInput:it,TouchMouseInput:pt,SingleTouchInput:ut,Recognizer:Rt,AttrRecognizer:Ct,Tap:Nt,Pan:Dt,Swipe:Mt,Pinch:$t,Rotate:Ut,Press:Lt,on:E,off:O,each:g,merge:m,extend:y,assign:u,inherit:b,bindFn:w,prefixed:P}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=Ft,(r=function(){return Ft}.call(e,n,e,t))===a||(t.exports=r)}(window,document)},486:function(t,e,n){var r;t=n.nmd(t),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",u=32,c=128,l=1/0,h=9007199254740991,f=NaN,d=4294967295,p=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",u],["partialRight",64],["rearg",256]],v="[object Arguments]",g="[object Array]",_="[object Boolean]",y="[object Date]",m="[object Error]",b="[object Function]",w="[object GeneratorFunction]",T="[object Map]",S="[object Number]",E="[object Object]",O="[object Promise]",x="[object RegExp]",A="[object Set]",j="[object String]",R="[object Symbol]",I="[object WeakMap]",k="[object ArrayBuffer]",P="[object DataView]",C="[object Float32Array]",D="[object Float64Array]",$="[object Int8Array]",L="[object Int16Array]",U="[object Int32Array]",M="[object Uint8Array]",N="[object Uint8ClampedArray]",F="[object Uint16Array]",z="[object Uint32Array]",B=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,W=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,q=/[&<>"']/g,G=RegExp(H.source),J=RegExp(q.source),X=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,K=/<%=([\s\S]+?)%>/g,Z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,nt=RegExp(et.source),rt=/^\s+/,it=/\s/,ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,st=/\{\n\/\* \[wrapped with (.+)\] \*/,at=/,? & /,ut=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ct=/[()=,{}\[\]\/\s]/,lt=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ft=/\w*$/,dt=/^[-+]0x[0-9a-f]+$/i,pt=/^0b[01]+$/i,vt=/^\[object .+?Constructor\]$/,gt=/^0o[0-7]+$/i,_t=/^(?:0|[1-9]\d*)$/,yt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,mt=/($^)/,bt=/['\n\r\u2028\u2029\\]/g,wt="\\ud800-\\udfff",Tt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",St="\\u2700-\\u27bf",Et="a-z\\xdf-\\xf6\\xf8-\\xff",Ot="A-Z\\xc0-\\xd6\\xd8-\\xde",xt="\\ufe0e\\ufe0f",At="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",jt="["+wt+"]",Rt="["+At+"]",It="["+Tt+"]",kt="\\d+",Pt="["+St+"]",Ct="["+Et+"]",Dt="[^"+wt+At+kt+St+Et+Ot+"]",$t="\\ud83c[\\udffb-\\udfff]",Lt="[^"+wt+"]",Ut="(?:\\ud83c[\\udde6-\\uddff]){2}",Mt="[\\ud800-\\udbff][\\udc00-\\udfff]",Nt="["+Ot+"]",Ft="\\u200d",zt="(?:"+Ct+"|"+Dt+")",Bt="(?:"+Nt+"|"+Dt+")",Vt="(?:['](?:d|ll|m|re|s|t|ve))?",Wt="(?:['](?:D|LL|M|RE|S|T|VE))?",Ht="(?:"+It+"|"+$t+")?",qt="["+xt+"]?",Gt=qt+Ht+"(?:"+Ft+"(?:"+[Lt,Ut,Mt].join("|")+")"+qt+Ht+")*",Jt="(?:"+[Pt,Ut,Mt].join("|")+")"+Gt,Xt="(?:"+[Lt+It+"?",It,Ut,Mt,jt].join("|")+")",Yt=RegExp("[']","g"),Kt=RegExp(It,"g"),Zt=RegExp($t+"(?="+$t+")|"+Xt+Gt,"g"),Qt=RegExp([Nt+"?"+Ct+"+"+Vt+"(?="+[Rt,Nt,"$"].join("|")+")",Bt+"+"+Wt+"(?="+[Rt,Nt+zt,"$"].join("|")+")",Nt+"?"+zt+"+"+Vt,Nt+"+"+Wt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",kt,Jt].join("|"),"g"),te=RegExp("["+Ft+wt+Tt+xt+"]"),ee=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ne=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],re=-1,ie={};ie[C]=ie[D]=ie[$]=ie[L]=ie[U]=ie[M]=ie[N]=ie[F]=ie[z]=!0,ie[v]=ie[g]=ie[k]=ie[_]=ie[P]=ie[y]=ie[m]=ie[b]=ie[T]=ie[S]=ie[E]=ie[x]=ie[A]=ie[j]=ie[I]=!1;var oe={};oe[v]=oe[g]=oe[k]=oe[P]=oe[_]=oe[y]=oe[C]=oe[D]=oe[$]=oe[L]=oe[U]=oe[T]=oe[S]=oe[E]=oe[x]=oe[A]=oe[j]=oe[R]=oe[M]=oe[N]=oe[F]=oe[z]=!0,oe[m]=oe[b]=oe[I]=!1;var se={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ae=parseFloat,ue=parseInt,ce="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,le="object"==typeof self&&self&&self.Object===Object&&self,he=ce||le||Function("return this")(),fe=e&&!e.nodeType&&e,de=fe&&t&&!t.nodeType&&t,pe=de&&de.exports===fe,ve=pe&&ce.process,ge=function(){try{return de&&de.require&&de.require("util").types||ve&&ve.binding&&ve.binding("util")}catch(t){}}(),_e=ge&&ge.isArrayBuffer,ye=ge&&ge.isDate,me=ge&&ge.isMap,be=ge&&ge.isRegExp,we=ge&&ge.isSet,Te=ge&&ge.isTypedArray;function Se(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ee(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function Oe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function xe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ae(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function je(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function Re(t,e){return!(null==t||!t.length)&&Ne(t,e,0)>-1}function Ie(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function ke(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Pe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Ce(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function De(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function $e(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Le=Ve("length");function Ue(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function Me(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Ne(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Me(t,ze,n)}function Fe(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function ze(t){return t!=t}function Be(t,e){var n=null==t?0:t.length;return n?qe(t,e)/n:f}function Ve(t){return function(e){return null==e?i:e[t]}}function We(t){return function(e){return null==t?i:t[e]}}function He(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function qe(t,e){for(var n,r=-1,o=t.length;++r<o;){var s=e(t[r]);s!==i&&(n=n===i?s:n+s)}return n}function Ge(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Je(t){return t?t.slice(0,dn(t)+1).replace(rt,""):t}function Xe(t){return function(e){return t(e)}}function Ye(t,e){return ke(e,(function(e){return t[e]}))}function Ke(t,e){return t.has(e)}function Ze(t,e){for(var n=-1,r=t.length;++n<r&&Ne(e,t[n],0)>-1;);return n}function Qe(t,e){for(var n=t.length;n--&&Ne(e,t[n],0)>-1;);return n}function tn(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var en=We({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),nn=We({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function rn(t){return"\\"+se[t]}function on(t){return te.test(t)}function sn(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function an(t,e){return function(n){return t(e(n))}}function un(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];s!==e&&s!==a||(t[n]=a,o[i++]=n)}return o}function cn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function ln(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function hn(t){return on(t)?function(t){for(var e=Zt.lastIndex=0;Zt.test(t);)++e;return e}(t):Le(t)}function fn(t){return on(t)?function(t){return t.match(Zt)||[]}(t):function(t){return t.split("")}(t)}function dn(t){for(var e=t.length;e--&&it.test(t.charAt(e)););return e}var pn=We({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),vn=function t(e){var n,r=(e=null==e?he:vn.defaults(he.Object(),e,vn.pick(he,ne))).Array,it=e.Date,wt=e.Error,Tt=e.Function,St=e.Math,Et=e.Object,Ot=e.RegExp,xt=e.String,At=e.TypeError,jt=r.prototype,Rt=Tt.prototype,It=Et.prototype,kt=e["__core-js_shared__"],Pt=Rt.toString,Ct=It.hasOwnProperty,Dt=0,$t=(n=/[^.]+$/.exec(kt&&kt.keys&&kt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Lt=It.toString,Ut=Pt.call(Et),Mt=he._,Nt=Ot("^"+Pt.call(Ct).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ft=pe?e.Buffer:i,zt=e.Symbol,Bt=e.Uint8Array,Vt=Ft?Ft.allocUnsafe:i,Wt=an(Et.getPrototypeOf,Et),Ht=Et.create,qt=It.propertyIsEnumerable,Gt=jt.splice,Jt=zt?zt.isConcatSpreadable:i,Xt=zt?zt.iterator:i,Zt=zt?zt.toStringTag:i,te=function(){try{var t=co(Et,"defineProperty");return t({},"",{}),t}catch(t){}}(),se=e.clearTimeout!==he.clearTimeout&&e.clearTimeout,ce=it&&it.now!==he.Date.now&&it.now,le=e.setTimeout!==he.setTimeout&&e.setTimeout,fe=St.ceil,de=St.floor,ve=Et.getOwnPropertySymbols,ge=Ft?Ft.isBuffer:i,Le=e.isFinite,We=jt.join,gn=an(Et.keys,Et),_n=St.max,yn=St.min,mn=it.now,bn=e.parseInt,wn=St.random,Tn=jt.reverse,Sn=co(e,"DataView"),En=co(e,"Map"),On=co(e,"Promise"),xn=co(e,"Set"),An=co(e,"WeakMap"),jn=co(Et,"create"),Rn=An&&new An,In={},kn=No(Sn),Pn=No(En),Cn=No(On),Dn=No(xn),$n=No(An),Ln=zt?zt.prototype:i,Un=Ln?Ln.valueOf:i,Mn=Ln?Ln.toString:i;function Nn(t){if(na(t)&&!Hs(t)&&!(t instanceof Vn)){if(t instanceof Bn)return t;if(Ct.call(t,"__wrapped__"))return Fo(t)}return new Bn(t)}var Fn=function(){function t(){}return function(e){if(!ea(e))return{};if(Ht)return Ht(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function zn(){}function Bn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function Vn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Wn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Hn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function qn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Gn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new qn;++e<n;)this.add(t[e])}function Jn(t){var e=this.__data__=new Hn(t);this.size=e.size}function Xn(t,e){var n=Hs(t),r=!n&&Ws(t),i=!n&&!r&&Xs(t),o=!n&&!r&&!i&&la(t),s=n||r||i||o,a=s?Ge(t.length,xt):[],u=a.length;for(var c in t)!e&&!Ct.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||_o(c,u))||a.push(c);return a}function Yn(t){var e=t.length;return e?t[qr(0,e-1)]:i}function Kn(t,e){return Do(Ai(t),sr(e,0,t.length))}function Zn(t){return Do(Ai(t))}function Qn(t,e,n){(n!==i&&!zs(t[e],n)||n===i&&!(e in t))&&ir(t,e,n)}function tr(t,e,n){var r=t[e];Ct.call(t,e)&&zs(r,n)&&(n!==i||e in t)||ir(t,e,n)}function er(t,e){for(var n=t.length;n--;)if(zs(t[n][0],e))return n;return-1}function nr(t,e,n,r){return hr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function rr(t,e){return t&&ji(e,Pa(e),t)}function ir(t,e,n){"__proto__"==e&&te?te(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function or(t,e){for(var n=-1,o=e.length,s=r(o),a=null==t;++n<o;)s[n]=a?i:Aa(t,e[n]);return s}function sr(t,e,n){return t==t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function ar(t,e,n,r,o,s){var a,u=1&e,c=2&e,l=4&e;if(n&&(a=o?n(t,r,o,s):n(t)),a!==i)return a;if(!ea(t))return t;var h=Hs(t);if(h){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Ct.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return Ai(t,a)}else{var f=fo(t),d=f==b||f==w;if(Xs(t))return wi(t,u);if(f==E||f==v||d&&!o){if(a=c||d?{}:vo(t),!u)return c?function(t,e){return ji(t,ho(t),e)}(t,function(t,e){return t&&ji(e,Ca(e),t)}(a,t)):function(t,e){return ji(t,lo(t),e)}(t,rr(a,t))}else{if(!oe[f])return o?t:{};a=function(t,e,n){var r,i=t.constructor;switch(e){case k:return Ti(t);case _:case y:return new i(+t);case P:return function(t,e){var n=e?Ti(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case C:case D:case $:case L:case U:case M:case N:case F:case z:return Si(t,n);case T:return new i;case S:case j:return new i(t);case x:return function(t){var e=new t.constructor(t.source,ft.exec(t));return e.lastIndex=t.lastIndex,e}(t);case A:return new i;case R:return r=t,Un?Et(Un.call(r)):{}}}(t,f,u)}}s||(s=new Jn);var p=s.get(t);if(p)return p;s.set(t,a),aa(t)?t.forEach((function(r){a.add(ar(r,e,n,r,t,s))})):ra(t)&&t.forEach((function(r,i){a.set(i,ar(r,e,n,i,t,s))}));var g=h?i:(l?c?no:eo:c?Ca:Pa)(t);return Oe(g||t,(function(r,i){g&&(r=t[i=r]),tr(a,i,ar(r,e,n,i,t,s))})),a}function ur(t,e,n){var r=n.length;if(null==t)return!r;for(t=Et(t);r--;){var o=n[r],s=e[o],a=t[o];if(a===i&&!(o in t)||!s(a))return!1}return!0}function cr(t,e,n){if("function"!=typeof t)throw new At(o);return Io((function(){t.apply(i,n)}),e)}function lr(t,e,n,r){var i=-1,o=Re,s=!0,a=t.length,u=[],c=e.length;if(!a)return u;n&&(e=ke(e,Xe(n))),r?(o=Ie,s=!1):e.length>=200&&(o=Ke,s=!1,e=new Gn(e));t:for(;++i<a;){var l=t[i],h=null==n?l:n(l);if(l=r||0!==l?l:0,s&&h==h){for(var f=c;f--;)if(e[f]===h)continue t;u.push(l)}else o(e,h,r)||u.push(l)}return u}Nn.templateSettings={escape:X,evaluate:Y,interpolate:K,variable:"",imports:{_:Nn}},Nn.prototype=zn.prototype,Nn.prototype.constructor=Nn,Bn.prototype=Fn(zn.prototype),Bn.prototype.constructor=Bn,Vn.prototype=Fn(zn.prototype),Vn.prototype.constructor=Vn,Wn.prototype.clear=function(){this.__data__=jn?jn(null):{},this.size=0},Wn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Wn.prototype.get=function(t){var e=this.__data__;if(jn){var n=e[t];return n===s?i:n}return Ct.call(e,t)?e[t]:i},Wn.prototype.has=function(t){var e=this.__data__;return jn?e[t]!==i:Ct.call(e,t)},Wn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=jn&&e===i?s:e,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(t){var e=this.__data__,n=er(e,t);return!(n<0||(n==e.length-1?e.pop():Gt.call(e,n,1),--this.size,0))},Hn.prototype.get=function(t){var e=this.__data__,n=er(e,t);return n<0?i:e[n][1]},Hn.prototype.has=function(t){return er(this.__data__,t)>-1},Hn.prototype.set=function(t,e){var n=this.__data__,r=er(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},qn.prototype.clear=function(){this.size=0,this.__data__={hash:new Wn,map:new(En||Hn),string:new Wn}},qn.prototype.delete=function(t){var e=ao(this,t).delete(t);return this.size-=e?1:0,e},qn.prototype.get=function(t){return ao(this,t).get(t)},qn.prototype.has=function(t){return ao(this,t).has(t)},qn.prototype.set=function(t,e){var n=ao(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Gn.prototype.add=Gn.prototype.push=function(t){return this.__data__.set(t,s),this},Gn.prototype.has=function(t){return this.__data__.has(t)},Jn.prototype.clear=function(){this.__data__=new Hn,this.size=0},Jn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Jn.prototype.get=function(t){return this.__data__.get(t)},Jn.prototype.has=function(t){return this.__data__.has(t)},Jn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Hn){var r=n.__data__;if(!En||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new qn(r)}return n.set(t,e),this.size=n.size,this};var hr=ki(mr),fr=ki(br,!0);function dr(t,e){var n=!0;return hr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function pr(t,e,n){for(var r=-1,o=t.length;++r<o;){var s=t[r],a=e(s);if(null!=a&&(u===i?a==a&&!ca(a):n(a,u)))var u=a,c=s}return c}function vr(t,e){var n=[];return hr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function gr(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=go),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?gr(a,e-1,n,r,i):Pe(i,a):r||(i[i.length]=a)}return i}var _r=Pi(),yr=Pi(!0);function mr(t,e){return t&&_r(t,e,Pa)}function br(t,e){return t&&yr(t,e,Pa)}function wr(t,e){return je(e,(function(e){return Zs(t[e])}))}function Tr(t,e){for(var n=0,r=(e=_i(e,t)).length;null!=t&&n<r;)t=t[Mo(e[n++])];return n&&n==r?t:i}function Sr(t,e,n){var r=e(t);return Hs(t)?r:Pe(r,n(t))}function Er(t){return null==t?t===i?"[object Undefined]":"[object Null]":Zt&&Zt in Et(t)?function(t){var e=Ct.call(t,Zt),n=t[Zt];try{t[Zt]=i;var r=!0}catch(t){}var o=Lt.call(t);return r&&(e?t[Zt]=n:delete t[Zt]),o}(t):function(t){return Lt.call(t)}(t)}function Or(t,e){return t>e}function xr(t,e){return null!=t&&Ct.call(t,e)}function Ar(t,e){return null!=t&&e in Et(t)}function jr(t,e,n){for(var o=n?Ie:Re,s=t[0].length,a=t.length,u=a,c=r(a),l=1/0,h=[];u--;){var f=t[u];u&&e&&(f=ke(f,Xe(e))),l=yn(f.length,l),c[u]=!n&&(e||s>=120&&f.length>=120)?new Gn(u&&f):i}f=t[0];var d=-1,p=c[0];t:for(;++d<s&&h.length<l;){var v=f[d],g=e?e(v):v;if(v=n||0!==v?v:0,!(p?Ke(p,g):o(h,g,n))){for(u=a;--u;){var _=c[u];if(!(_?Ke(_,g):o(t[u],g,n)))continue t}p&&p.push(g),h.push(v)}}return h}function Rr(t,e,n){var r=null==(t=xo(t,e=_i(e,t)))?t:t[Mo(Ko(e))];return null==r?i:Se(r,t,n)}function Ir(t){return na(t)&&Er(t)==v}function kr(t,e,n,r,o){return t===e||(null==t||null==e||!na(t)&&!na(e)?t!=t&&e!=e:function(t,e,n,r,o,s){var a=Hs(t),u=Hs(e),c=a?g:fo(t),l=u?g:fo(e),h=(c=c==v?E:c)==E,f=(l=l==v?E:l)==E,d=c==l;if(d&&Xs(t)){if(!Xs(e))return!1;a=!0,h=!1}if(d&&!h)return s||(s=new Jn),a||la(t)?Qi(t,e,n,r,o,s):function(t,e,n,r,i,o,s){switch(n){case P:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case k:return!(t.byteLength!=e.byteLength||!o(new Bt(t),new Bt(e)));case _:case y:case S:return zs(+t,+e);case m:return t.name==e.name&&t.message==e.message;case x:case j:return t==e+"";case T:var a=sn;case A:var u=1&r;if(a||(a=cn),t.size!=e.size&&!u)return!1;var c=s.get(t);if(c)return c==e;r|=2,s.set(t,e);var l=Qi(a(t),a(e),r,i,o,s);return s.delete(t),l;case R:if(Un)return Un.call(t)==Un.call(e)}return!1}(t,e,c,n,r,o,s);if(!(1&n)){var p=h&&Ct.call(t,"__wrapped__"),b=f&&Ct.call(e,"__wrapped__");if(p||b){var w=p?t.value():t,O=b?e.value():e;return s||(s=new Jn),o(w,O,n,r,s)}}return!!d&&(s||(s=new Jn),function(t,e,n,r,o,s){var a=1&n,u=eo(t),c=u.length;if(c!=eo(e).length&&!a)return!1;for(var l=c;l--;){var h=u[l];if(!(a?h in e:Ct.call(e,h)))return!1}var f=s.get(t),d=s.get(e);if(f&&d)return f==e&&d==t;var p=!0;s.set(t,e),s.set(e,t);for(var v=a;++l<c;){var g=t[h=u[l]],_=e[h];if(r)var y=a?r(_,g,h,e,t,s):r(g,_,h,t,e,s);if(!(y===i?g===_||o(g,_,n,r,s):y)){p=!1;break}v||(v="constructor"==h)}if(p&&!v){var m=t.constructor,b=e.constructor;m==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b||(p=!1)}return s.delete(t),s.delete(e),p}(t,e,n,r,o,s))}(t,e,n,r,kr,o))}function Pr(t,e,n,r){var o=n.length,s=o,a=!r;if(null==t)return!s;for(t=Et(t);o--;){var u=n[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<s;){var c=(u=n[o])[0],l=t[c],h=u[1];if(a&&u[2]){if(l===i&&!(c in t))return!1}else{var f=new Jn;if(r)var d=r(l,h,c,t,e,f);if(!(d===i?kr(h,l,3,r,f):d))return!1}}return!0}function Cr(t){return!(!ea(t)||(e=t,$t&&$t in e))&&(Zs(t)?Nt:vt).test(No(t));var e}function Dr(t){return"function"==typeof t?t:null==t?iu:"object"==typeof t?Hs(t)?Nr(t[0],t[1]):Mr(t):du(t)}function $r(t){if(!To(t))return gn(t);var e=[];for(var n in Et(t))Ct.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Lr(t,e){return t<e}function Ur(t,e){var n=-1,i=Gs(t)?r(t.length):[];return hr(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Mr(t){var e=uo(t);return 1==e.length&&e[0][2]?Eo(e[0][0],e[0][1]):function(n){return n===t||Pr(n,t,e)}}function Nr(t,e){return mo(t)&&So(e)?Eo(Mo(t),e):function(n){var r=Aa(n,t);return r===i&&r===e?ja(n,t):kr(e,r,3)}}function Fr(t,e,n,r,o){t!==e&&_r(e,(function(s,a){if(o||(o=new Jn),ea(s))!function(t,e,n,r,o,s,a){var u=jo(t,n),c=jo(e,n),l=a.get(c);if(l)Qn(t,n,l);else{var h=s?s(u,c,n+"",t,e,a):i,f=h===i;if(f){var d=Hs(c),p=!d&&Xs(c),v=!d&&!p&&la(c);h=c,d||p||v?Hs(u)?h=u:Js(u)?h=Ai(u):p?(f=!1,h=wi(c,!0)):v?(f=!1,h=Si(c,!0)):h=[]:oa(c)||Ws(c)?(h=u,Ws(u)?h=ya(u):ea(u)&&!Zs(u)||(h=vo(c))):f=!1}f&&(a.set(c,h),o(h,c,r,s,a),a.delete(c)),Qn(t,n,h)}}(t,e,a,n,Fr,r,o);else{var u=r?r(jo(t,a),s,a+"",t,e,o):i;u===i&&(u=s),Qn(t,a,u)}}),Ca)}function zr(t,e){var n=t.length;if(n)return _o(e+=e<0?n:0,n)?t[e]:i}function Br(t,e,n){e=e.length?ke(e,(function(t){return Hs(t)?function(e){return Tr(e,1===t.length?t[0]:t)}:t})):[iu];var r=-1;e=ke(e,Xe(so()));var i=Ur(t,(function(t,n,i){var o=ke(e,(function(e){return e(t)}));return{criteria:o,index:++r,value:t}}));return function(t,e){var r=t.length;for(t.sort((function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var u=Ei(i[r],o[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}));r--;)t[r]=t[r].value;return t}(i)}function Vr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=Tr(t,s);n(a,s)&&Kr(o,_i(s,t),a)}return o}function Wr(t,e,n,r){var i=r?Fe:Ne,o=-1,s=e.length,a=t;for(t===e&&(e=Ai(e)),n&&(a=ke(t,Xe(n)));++o<s;)for(var u=0,c=e[o],l=n?n(c):c;(u=i(a,l,u,r))>-1;)a!==t&&Gt.call(a,u,1),Gt.call(t,u,1);return t}function Hr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;_o(i)?Gt.call(t,i,1):ci(t,i)}}return t}function qr(t,e){return t+de(wn()*(e-t+1))}function Gr(t,e){var n="";if(!t||e<1||e>h)return n;do{e%2&&(n+=t),(e=de(e/2))&&(t+=t)}while(e);return n}function Jr(t,e){return ko(Oo(t,e,iu),t+"")}function Xr(t){return Yn(za(t))}function Yr(t,e){var n=za(t);return Do(n,sr(e,0,n.length))}function Kr(t,e,n,r){if(!ea(t))return t;for(var o=-1,s=(e=_i(e,t)).length,a=s-1,u=t;null!=u&&++o<s;){var c=Mo(e[o]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(o!=a){var h=u[c];(l=r?r(h,c,u):i)===i&&(l=ea(h)?h:_o(e[o+1])?[]:{})}tr(u,c,l),u=u[c]}return t}var Zr=Rn?function(t,e){return Rn.set(t,e),t}:iu,Qr=te?function(t,e){return te(t,"toString",{configurable:!0,enumerable:!1,value:eu(e),writable:!0})}:iu;function ti(t){return Do(za(t))}function ei(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var s=r(o);++i<o;)s[i]=t[i+e];return s}function ni(t,e){var n;return hr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function ri(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=t[o];null!==s&&!ca(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return ii(t,e,iu,n)}function ii(t,e,n,r){var o=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(e=n(e))!=e,u=null===e,c=ca(e),l=e===i;o<s;){var h=de((o+s)/2),f=n(t[h]),d=f!==i,p=null===f,v=f==f,g=ca(f);if(a)var _=r||v;else _=l?v&&(r||d):u?v&&d&&(r||!p):c?v&&d&&!p&&(r||!g):!p&&!g&&(r?f<=e:f<e);_?o=h+1:s=h}return yn(s,4294967294)}function oi(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!zs(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function si(t){return"number"==typeof t?t:ca(t)?f:+t}function ai(t){if("string"==typeof t)return t;if(Hs(t))return ke(t,ai)+"";if(ca(t))return Mn?Mn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ui(t,e,n){var r=-1,i=Re,o=t.length,s=!0,a=[],u=a;if(n)s=!1,i=Ie;else if(o>=200){var c=e?null:Gi(t);if(c)return cn(c);s=!1,i=Ke,u=new Gn}else u=e?[]:a;t:for(;++r<o;){var l=t[r],h=e?e(l):l;if(l=n||0!==l?l:0,s&&h==h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),a.push(l)}else i(u,h,n)||(u!==a&&u.push(h),a.push(l))}return a}function ci(t,e){return null==(t=xo(t,e=_i(e,t)))||delete t[Mo(Ko(e))]}function li(t,e,n,r){return Kr(t,e,n(Tr(t,e)),r)}function hi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ei(t,r?0:o,r?o+1:i):ei(t,r?o+1:0,r?i:o)}function fi(t,e){var n=t;return n instanceof Vn&&(n=n.value()),Ce(e,(function(t,e){return e.func.apply(e.thisArg,Pe([t],e.args))}),n)}function di(t,e,n){var i=t.length;if(i<2)return i?ui(t[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=t[o],u=-1;++u<i;)u!=o&&(s[o]=lr(s[o]||a,t[u],e,n));return ui(gr(s,1),e,n)}function pi(t,e,n){for(var r=-1,o=t.length,s=e.length,a={};++r<o;){var u=r<s?e[r]:i;n(a,t[r],u)}return a}function vi(t){return Js(t)?t:[]}function gi(t){return"function"==typeof t?t:iu}function _i(t,e){return Hs(t)?t:mo(t,e)?[t]:Uo(ma(t))}var yi=Jr;function mi(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:ei(t,e,n)}var bi=se||function(t){return he.clearTimeout(t)};function wi(t,e){if(e)return t.slice();var n=t.length,r=Vt?Vt(n):new t.constructor(n);return t.copy(r),r}function Ti(t){var e=new t.constructor(t.byteLength);return new Bt(e).set(new Bt(t)),e}function Si(t,e){var n=e?Ti(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ei(t,e){if(t!==e){var n=t!==i,r=null===t,o=t==t,s=ca(t),a=e!==i,u=null===e,c=e==e,l=ca(e);if(!u&&!l&&!s&&t>e||s&&a&&c&&!u&&!l||r&&a&&c||!n&&c||!o)return 1;if(!r&&!s&&!l&&t<e||l&&n&&o&&!r&&!s||u&&n&&o||!a&&o||!c)return-1}return 0}function Oi(t,e,n,i){for(var o=-1,s=t.length,a=n.length,u=-1,c=e.length,l=_n(s-a,0),h=r(c+l),f=!i;++u<c;)h[u]=e[u];for(;++o<a;)(f||o<s)&&(h[n[o]]=t[o]);for(;l--;)h[u++]=t[o++];return h}function xi(t,e,n,i){for(var o=-1,s=t.length,a=-1,u=n.length,c=-1,l=e.length,h=_n(s-u,0),f=r(h+l),d=!i;++o<h;)f[o]=t[o];for(var p=o;++c<l;)f[p+c]=e[c];for(;++a<u;)(d||o<s)&&(f[p+n[a]]=t[o++]);return f}function Ai(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function ji(t,e,n,r){var o=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var u=e[s],c=r?r(n[u],t[u],u,n,t):i;c===i&&(c=t[u]),o?ir(n,u,c):tr(n,u,c)}return n}function Ri(t,e){return function(n,r){var i=Hs(n)?Ee:nr,o=e?e():{};return i(n,t,so(r,2),o)}}function Ii(t){return Jr((function(e,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=t.length>3&&"function"==typeof s?(o--,s):i,a&&yo(n[0],n[1],a)&&(s=o<3?i:s,o=1),e=Et(e);++r<o;){var u=n[r];u&&t(e,u,r,s)}return e}))}function ki(t,e){return function(n,r){if(null==n)return n;if(!Gs(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Et(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Pi(t){return function(e,n,r){for(var i=-1,o=Et(e),s=r(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===n(o[u],u,o))break}return e}}function Ci(t){return function(e){var n=on(e=ma(e))?fn(e):i,r=n?n[0]:e.charAt(0),o=n?mi(n,1).join(""):e.slice(1);return r[t]()+o}}function Di(t){return function(e){return Ce(Za(Wa(e).replace(Yt,"")),t,"")}}function $i(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Fn(t.prototype),r=t.apply(n,e);return ea(r)?r:n}}function Li(t){return function(e,n,r){var o=Et(e);if(!Gs(e)){var s=so(n,3);e=Pa(e),n=function(t){return s(o[t],t,o)}}var a=t(e,n,r);return a>-1?o[s?e[a]:a]:i}}function Ui(t){return to((function(e){var n=e.length,r=n,s=Bn.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new At(o);if(s&&!u&&"wrapper"==io(a))var u=new Bn([],!0)}for(r=u?r:n;++r<n;){var c=io(a=e[r]),l="wrapper"==c?ro(a):i;u=l&&bo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[io(l[0])].apply(u,l[3]):1==a.length&&bo(a)?u[c]():u.thru(a)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Hs(r))return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Mi(t,e,n,o,s,a,u,l,h,f){var d=e&c,p=1&e,v=2&e,g=24&e,_=512&e,y=v?i:$i(t);return function i(){for(var c=arguments.length,m=r(c),b=c;b--;)m[b]=arguments[b];if(g)var w=oo(i),T=tn(m,w);if(o&&(m=Oi(m,o,s,g)),a&&(m=xi(m,a,u,g)),c-=T,g&&c<f){var S=un(m,w);return Hi(t,e,Mi,i.placeholder,n,m,S,l,h,f-c)}var E=p?n:this,O=v?E[t]:t;return c=m.length,l?m=Ao(m,l):_&&c>1&&m.reverse(),d&&h<c&&(m.length=h),this&&this!==he&&this instanceof i&&(O=y||$i(O)),O.apply(E,m)}}function Ni(t,e){return function(n,r){return function(t,e,n,r){return mr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Fi(t,e){return function(n,r){var o;if(n===i&&r===i)return e;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=ai(n),r=ai(r)):(n=si(n),r=si(r)),o=t(n,r)}return o}}function zi(t){return to((function(e){return e=ke(e,Xe(so())),Jr((function(n){var r=this;return t(e,(function(t){return Se(t,r,n)}))}))}))}function Bi(t,e){var n=(e=e===i?" ":ai(e)).length;if(n<2)return n?Gr(e,t):e;var r=Gr(e,fe(t/hn(e)));return on(e)?mi(fn(r),0,t).join(""):r.slice(0,t)}function Vi(t){return function(e,n,o){return o&&"number"!=typeof o&&yo(e,n,o)&&(n=o=i),e=pa(e),n===i?(n=e,e=0):n=pa(n),function(t,e,n,i){for(var o=-1,s=_n(fe((e-t)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=t,t+=n;return a}(e,n,o=o===i?e<n?1:-1:pa(o),t)}}function Wi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=_a(e),n=_a(n)),t(e,n)}}function Hi(t,e,n,r,o,s,a,c,l,h){var f=8&e;e|=f?u:64,4&(e&=~(f?64:u))||(e&=-4);var d=[t,e,o,f?s:i,f?a:i,f?i:s,f?i:a,c,l,h],p=n.apply(i,d);return bo(t)&&Ro(p,d),p.placeholder=r,Po(p,t,e)}function qi(t){var e=St[t];return function(t,n){if(t=_a(t),(n=null==n?0:yn(va(n),292))&&Le(t)){var r=(ma(t)+"e").split("e");return+((r=(ma(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Gi=xn&&1/cn(new xn([,-0]))[1]==l?function(t){return new xn(t)}:cu;function Ji(t){return function(e){var n=fo(e);return n==T?sn(e):n==A?ln(e):function(t,e){return ke(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Xi(t,e,n,s,l,h,f,d){var p=2&e;if(!p&&"function"!=typeof t)throw new At(o);var v=s?s.length:0;if(v||(e&=-97,s=l=i),f=f===i?f:_n(va(f),0),d=d===i?d:va(d),v-=l?l.length:0,64&e){var g=s,_=l;s=l=i}var y=p?i:ro(t),m=[t,e,n,s,l,g,_,h,f,d];if(y&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,s=r==c&&8==n||r==c&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!s)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var u=e[3];if(u){var l=t[3];t[3]=l?Oi(l,u,e[4]):u,t[4]=l?un(t[3],a):e[4]}(u=e[5])&&(l=t[5],t[5]=l?xi(l,u,e[6]):u,t[6]=l?un(t[5],a):e[6]),(u=e[7])&&(t[7]=u),r&c&&(t[8]=null==t[8]?e[8]:yn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(m,y),t=m[0],e=m[1],n=m[2],s=m[3],l=m[4],!(d=m[9]=m[9]===i?p?0:t.length:_n(m[9]-v,0))&&24&e&&(e&=-25),e&&1!=e)b=8==e||16==e?function(t,e,n){var o=$i(t);return function s(){for(var a=arguments.length,u=r(a),c=a,l=oo(s);c--;)u[c]=arguments[c];var h=a<3&&u[0]!==l&&u[a-1]!==l?[]:un(u,l);return(a-=h.length)<n?Hi(t,e,Mi,s.placeholder,i,u,h,i,i,n-a):Se(this&&this!==he&&this instanceof s?o:t,this,u)}}(t,e,d):e!=u&&33!=e||l.length?Mi.apply(i,m):function(t,e,n,i){var o=1&e,s=$i(t);return function e(){for(var a=-1,u=arguments.length,c=-1,l=i.length,h=r(l+u),f=this&&this!==he&&this instanceof e?s:t;++c<l;)h[c]=i[c];for(;u--;)h[c++]=arguments[++a];return Se(f,o?n:this,h)}}(t,e,n,s);else var b=function(t,e,n){var r=1&e,i=$i(t);return function e(){return(this&&this!==he&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return Po((y?Zr:Ro)(b,m),t,e)}function Yi(t,e,n,r){return t===i||zs(t,It[n])&&!Ct.call(r,n)?e:t}function Ki(t,e,n,r,o,s){return ea(t)&&ea(e)&&(s.set(e,t),Fr(t,e,i,Ki,s),s.delete(e)),t}function Zi(t){return oa(t)?i:t}function Qi(t,e,n,r,o,s){var a=1&n,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var l=s.get(t),h=s.get(e);if(l&&h)return l==e&&h==t;var f=-1,d=!0,p=2&n?new Gn:i;for(s.set(t,e),s.set(e,t);++f<u;){var v=t[f],g=e[f];if(r)var _=a?r(g,v,f,e,t,s):r(v,g,f,t,e,s);if(_!==i){if(_)continue;d=!1;break}if(p){if(!$e(e,(function(t,e){if(!Ke(p,e)&&(v===t||o(v,t,n,r,s)))return p.push(e)}))){d=!1;break}}else if(v!==g&&!o(v,g,n,r,s)){d=!1;break}}return s.delete(t),s.delete(e),d}function to(t){return ko(Oo(t,i,qo),t+"")}function eo(t){return Sr(t,Pa,lo)}function no(t){return Sr(t,Ca,ho)}var ro=Rn?function(t){return Rn.get(t)}:cu;function io(t){for(var e=t.name+"",n=In[e],r=Ct.call(In,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function oo(t){return(Ct.call(Nn,"placeholder")?Nn:t).placeholder}function so(){var t=Nn.iteratee||ou;return t=t===ou?Dr:t,arguments.length?t(arguments[0],arguments[1]):t}function ao(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function uo(t){for(var e=Pa(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,So(i)]}return e}function co(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return Cr(n)?n:i}var lo=ve?function(t){return null==t?[]:(t=Et(t),je(ve(t),(function(e){return qt.call(t,e)})))}:gu,ho=ve?function(t){for(var e=[];t;)Pe(e,lo(t)),t=Wt(t);return e}:gu,fo=Er;function po(t,e,n){for(var r=-1,i=(e=_i(e,t)).length,o=!1;++r<i;){var s=Mo(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&ta(i)&&_o(s,i)&&(Hs(t)||Ws(t))}function vo(t){return"function"!=typeof t.constructor||To(t)?{}:Fn(Wt(t))}function go(t){return Hs(t)||Ws(t)||!!(Jt&&t&&t[Jt])}function _o(t,e){var n=typeof t;return!!(e=null==e?h:e)&&("number"==n||"symbol"!=n&&_t.test(t))&&t>-1&&t%1==0&&t<e}function yo(t,e,n){if(!ea(n))return!1;var r=typeof e;return!!("number"==r?Gs(n)&&_o(e,n.length):"string"==r&&e in n)&&zs(n[e],t)}function mo(t,e){if(Hs(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ca(t))||Q.test(t)||!Z.test(t)||null!=e&&t in Et(e)}function bo(t){var e=io(t),n=Nn[e];if("function"!=typeof n||!(e in Vn.prototype))return!1;if(t===n)return!0;var r=ro(n);return!!r&&t===r[0]}(Sn&&fo(new Sn(new ArrayBuffer(1)))!=P||En&&fo(new En)!=T||On&&fo(On.resolve())!=O||xn&&fo(new xn)!=A||An&&fo(new An)!=I)&&(fo=function(t){var e=Er(t),n=e==E?t.constructor:i,r=n?No(n):"";if(r)switch(r){case kn:return P;case Pn:return T;case Cn:return O;case Dn:return A;case $n:return I}return e});var wo=kt?Zs:_u;function To(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||It)}function So(t){return t==t&&!ea(t)}function Eo(t,e){return function(n){return null!=n&&n[t]===e&&(e!==i||t in Et(n))}}function Oo(t,e,n){return e=_n(e===i?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=_n(i.length-e,0),a=r(s);++o<s;)a[o]=i[e+o];o=-1;for(var u=r(e+1);++o<e;)u[o]=i[o];return u[e]=n(a),Se(t,this,u)}}function xo(t,e){return e.length<2?t:Tr(t,ei(e,0,-1))}function Ao(t,e){for(var n=t.length,r=yn(e.length,n),o=Ai(t);r--;){var s=e[r];t[r]=_o(s,n)?o[s]:i}return t}function jo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Ro=Co(Zr),Io=le||function(t,e){return he.setTimeout(t,e)},ko=Co(Qr);function Po(t,e,n){var r=e+"";return ko(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(ot,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Oe(p,(function(n){var r="_."+n[0];e&n[1]&&!Re(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(st);return e?e[1].split(at):[]}(r),n)))}function Co(t){var e=0,n=0;return function(){var r=mn(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Do(t,e){var n=-1,r=t.length,o=r-1;for(e=e===i?r:e;++n<e;){var s=qr(n,o),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var $o,Lo,Uo=($o=$s((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tt,(function(t,n,r,i){e.push(r?i.replace(lt,"$1"):n||t)})),e}),(function(t){return 500===Lo.size&&Lo.clear(),t})),Lo=$o.cache,$o);function Mo(t){if("string"==typeof t||ca(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function No(t){if(null!=t){try{return Pt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Fo(t){if(t instanceof Vn)return t.clone();var e=new Bn(t.__wrapped__,t.__chain__);return e.__actions__=Ai(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var zo=Jr((function(t,e){return Js(t)?lr(t,gr(e,1,Js,!0)):[]})),Bo=Jr((function(t,e){var n=Ko(e);return Js(n)&&(n=i),Js(t)?lr(t,gr(e,1,Js,!0),so(n,2)):[]})),Vo=Jr((function(t,e){var n=Ko(e);return Js(n)&&(n=i),Js(t)?lr(t,gr(e,1,Js,!0),i,n):[]}));function Wo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:va(n);return i<0&&(i=_n(r+i,0)),Me(t,so(e,3),i)}function Ho(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return n!==i&&(o=va(n),o=n<0?_n(r+o,0):yn(o,r-1)),Me(t,so(e,3),o,!0)}function qo(t){return null!=t&&t.length?gr(t,1):[]}function Go(t){return t&&t.length?t[0]:i}var Jo=Jr((function(t){var e=ke(t,vi);return e.length&&e[0]===t[0]?jr(e):[]})),Xo=Jr((function(t){var e=Ko(t),n=ke(t,vi);return e===Ko(n)?e=i:n.pop(),n.length&&n[0]===t[0]?jr(n,so(e,2)):[]})),Yo=Jr((function(t){var e=Ko(t),n=ke(t,vi);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?jr(n,i,e):[]}));function Ko(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Zo=Jr(Qo);function Qo(t,e){return t&&t.length&&e&&e.length?Wr(t,e):t}var ts=to((function(t,e){var n=null==t?0:t.length,r=or(t,e);return Hr(t,ke(e,(function(t){return _o(t,n)?+t:t})).sort(Ei)),r}));function es(t){return null==t?t:Tn.call(t)}var ns=Jr((function(t){return ui(gr(t,1,Js,!0))})),rs=Jr((function(t){var e=Ko(t);return Js(e)&&(e=i),ui(gr(t,1,Js,!0),so(e,2))})),is=Jr((function(t){var e=Ko(t);return e="function"==typeof e?e:i,ui(gr(t,1,Js,!0),i,e)}));function os(t){if(!t||!t.length)return[];var e=0;return t=je(t,(function(t){if(Js(t))return e=_n(t.length,e),!0})),Ge(e,(function(e){return ke(t,Ve(e))}))}function ss(t,e){if(!t||!t.length)return[];var n=os(t);return null==e?n:ke(n,(function(t){return Se(e,i,t)}))}var as=Jr((function(t,e){return Js(t)?lr(t,e):[]})),us=Jr((function(t){return di(je(t,Js))})),cs=Jr((function(t){var e=Ko(t);return Js(e)&&(e=i),di(je(t,Js),so(e,2))})),ls=Jr((function(t){var e=Ko(t);return e="function"==typeof e?e:i,di(je(t,Js),i,e)})),hs=Jr(os),fs=Jr((function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,ss(t,n)}));function ds(t){var e=Nn(t);return e.__chain__=!0,e}function ps(t,e){return e(t)}var vs=to((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return or(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Vn&&_o(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:ps,args:[o],thisArg:i}),new Bn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(o)})),gs=Ri((function(t,e,n){Ct.call(t,n)?++t[n]:ir(t,n,1)})),_s=Li(Wo),ys=Li(Ho);function ms(t,e){return(Hs(t)?Oe:hr)(t,so(e,3))}function bs(t,e){return(Hs(t)?xe:fr)(t,so(e,3))}var ws=Ri((function(t,e,n){Ct.call(t,n)?t[n].push(e):ir(t,n,[e])})),Ts=Jr((function(t,e,n){var i=-1,o="function"==typeof e,s=Gs(t)?r(t.length):[];return hr(t,(function(t){s[++i]=o?Se(e,t,n):Rr(t,e,n)})),s})),Ss=Ri((function(t,e,n){ir(t,n,e)}));function Es(t,e){return(Hs(t)?ke:Ur)(t,so(e,3))}var Os=Ri((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),xs=Jr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&yo(t,e[0],e[1])?e=[]:n>2&&yo(e[0],e[1],e[2])&&(e=[e[0]]),Br(t,gr(e,1),[])})),As=ce||function(){return he.Date.now()};function js(t,e,n){return e=n?i:e,e=t&&null==e?t.length:e,Xi(t,c,i,i,i,i,e)}function Rs(t,e){var n;if("function"!=typeof e)throw new At(o);return t=va(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var Is=Jr((function(t,e,n){var r=1;if(n.length){var i=un(n,oo(Is));r|=u}return Xi(t,r,e,n,i)})),ks=Jr((function(t,e,n){var r=3;if(n.length){var i=un(n,oo(ks));r|=u}return Xi(e,r,t,n,i)}));function Ps(t,e,n){var r,s,a,u,c,l,h=0,f=!1,d=!1,p=!0;if("function"!=typeof t)throw new At(o);function v(e){var n=r,o=s;return r=s=i,h=e,u=t.apply(o,n)}function g(t){return h=t,c=Io(y,e),f?v(t):u}function _(t){var n=t-l;return l===i||n>=e||n<0||d&&t-h>=a}function y(){var t=As();if(_(t))return m(t);c=Io(y,function(t){var n=e-(t-l);return d?yn(n,a-(t-h)):n}(t))}function m(t){return c=i,p&&r?v(t):(r=s=i,u)}function b(){var t=As(),n=_(t);if(r=arguments,s=this,l=t,n){if(c===i)return g(l);if(d)return bi(c),c=Io(y,e),v(l)}return c===i&&(c=Io(y,e)),u}return e=_a(e)||0,ea(n)&&(f=!!n.leading,a=(d="maxWait"in n)?_n(_a(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){c!==i&&bi(c),h=0,r=l=s=c=i},b.flush=function(){return c===i?u:m(As())},b}var Cs=Jr((function(t,e){return cr(t,1,e)})),Ds=Jr((function(t,e,n){return cr(t,_a(e)||0,n)}));function $s(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new At(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new($s.Cache||qn),n}function Ls(t){if("function"!=typeof t)throw new At(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}$s.Cache=qn;var Us=yi((function(t,e){var n=(e=1==e.length&&Hs(e[0])?ke(e[0],Xe(so())):ke(gr(e,1),Xe(so()))).length;return Jr((function(r){for(var i=-1,o=yn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return Se(t,this,r)}))})),Ms=Jr((function(t,e){var n=un(e,oo(Ms));return Xi(t,u,i,e,n)})),Ns=Jr((function(t,e){var n=un(e,oo(Ns));return Xi(t,64,i,e,n)})),Fs=to((function(t,e){return Xi(t,256,i,i,i,e)}));function zs(t,e){return t===e||t!=t&&e!=e}var Bs=Wi(Or),Vs=Wi((function(t,e){return t>=e})),Ws=Ir(function(){return arguments}())?Ir:function(t){return na(t)&&Ct.call(t,"callee")&&!qt.call(t,"callee")},Hs=r.isArray,qs=_e?Xe(_e):function(t){return na(t)&&Er(t)==k};function Gs(t){return null!=t&&ta(t.length)&&!Zs(t)}function Js(t){return na(t)&&Gs(t)}var Xs=ge||_u,Ys=ye?Xe(ye):function(t){return na(t)&&Er(t)==y};function Ks(t){if(!na(t))return!1;var e=Er(t);return e==m||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!oa(t)}function Zs(t){if(!ea(t))return!1;var e=Er(t);return e==b||e==w||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Qs(t){return"number"==typeof t&&t==va(t)}function ta(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=h}function ea(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function na(t){return null!=t&&"object"==typeof t}var ra=me?Xe(me):function(t){return na(t)&&fo(t)==T};function ia(t){return"number"==typeof t||na(t)&&Er(t)==S}function oa(t){if(!na(t)||Er(t)!=E)return!1;var e=Wt(t);if(null===e)return!0;var n=Ct.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Pt.call(n)==Ut}var sa=be?Xe(be):function(t){return na(t)&&Er(t)==x},aa=we?Xe(we):function(t){return na(t)&&fo(t)==A};function ua(t){return"string"==typeof t||!Hs(t)&&na(t)&&Er(t)==j}function ca(t){return"symbol"==typeof t||na(t)&&Er(t)==R}var la=Te?Xe(Te):function(t){return na(t)&&ta(t.length)&&!!ie[Er(t)]},ha=Wi(Lr),fa=Wi((function(t,e){return t<=e}));function da(t){if(!t)return[];if(Gs(t))return ua(t)?fn(t):Ai(t);if(Xt&&t[Xt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Xt]());var e=fo(t);return(e==T?sn:e==A?cn:za)(t)}function pa(t){return t?(t=_a(t))===l||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function va(t){var e=pa(t),n=e%1;return e==e?n?e-n:e:0}function ga(t){return t?sr(va(t),0,d):0}function _a(t){if("number"==typeof t)return t;if(ca(t))return f;if(ea(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ea(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Je(t);var n=pt.test(t);return n||gt.test(t)?ue(t.slice(2),n?2:8):dt.test(t)?f:+t}function ya(t){return ji(t,Ca(t))}function ma(t){return null==t?"":ai(t)}var ba=Ii((function(t,e){if(To(e)||Gs(e))ji(e,Pa(e),t);else for(var n in e)Ct.call(e,n)&&tr(t,n,e[n])})),wa=Ii((function(t,e){ji(e,Ca(e),t)})),Ta=Ii((function(t,e,n,r){ji(e,Ca(e),t,r)})),Sa=Ii((function(t,e,n,r){ji(e,Pa(e),t,r)})),Ea=to(or),Oa=Jr((function(t,e){t=Et(t);var n=-1,r=e.length,o=r>2?e[2]:i;for(o&&yo(e[0],e[1],o)&&(r=1);++n<r;)for(var s=e[n],a=Ca(s),u=-1,c=a.length;++u<c;){var l=a[u],h=t[l];(h===i||zs(h,It[l])&&!Ct.call(t,l))&&(t[l]=s[l])}return t})),xa=Jr((function(t){return t.push(i,Ki),Se($a,i,t)}));function Aa(t,e,n){var r=null==t?i:Tr(t,e);return r===i?n:r}function ja(t,e){return null!=t&&po(t,e,Ar)}var Ra=Ni((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Lt.call(e)),t[e]=n}),eu(iu)),Ia=Ni((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Lt.call(e)),Ct.call(t,e)?t[e].push(n):t[e]=[n]}),so),ka=Jr(Rr);function Pa(t){return Gs(t)?Xn(t):$r(t)}function Ca(t){return Gs(t)?Xn(t,!0):function(t){if(!ea(t))return function(t){var e=[];if(null!=t)for(var n in Et(t))e.push(n);return e}(t);var e=To(t),n=[];for(var r in t)("constructor"!=r||!e&&Ct.call(t,r))&&n.push(r);return n}(t)}var Da=Ii((function(t,e,n){Fr(t,e,n)})),$a=Ii((function(t,e,n,r){Fr(t,e,n,r)})),La=to((function(t,e){var n={};if(null==t)return n;var r=!1;e=ke(e,(function(e){return e=_i(e,t),r||(r=e.length>1),e})),ji(t,no(t),n),r&&(n=ar(n,7,Zi));for(var i=e.length;i--;)ci(n,e[i]);return n})),Ua=to((function(t,e){return null==t?{}:function(t,e){return Vr(t,e,(function(e,n){return ja(t,n)}))}(t,e)}));function Ma(t,e){if(null==t)return{};var n=ke(no(t),(function(t){return[t]}));return e=so(e),Vr(t,n,(function(t,n){return e(t,n[0])}))}var Na=Ji(Pa),Fa=Ji(Ca);function za(t){return null==t?[]:Ye(t,Pa(t))}var Ba=Di((function(t,e,n){return e=e.toLowerCase(),t+(n?Va(e):e)}));function Va(t){return Ka(ma(t).toLowerCase())}function Wa(t){return(t=ma(t))&&t.replace(yt,en).replace(Kt,"")}var Ha=Di((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),qa=Di((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ga=Ci("toLowerCase"),Ja=Di((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Xa=Di((function(t,e,n){return t+(n?" ":"")+Ka(e)})),Ya=Di((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Ka=Ci("toUpperCase");function Za(t,e,n){return t=ma(t),(e=n?i:e)===i?function(t){return ee.test(t)}(t)?function(t){return t.match(Qt)||[]}(t):function(t){return t.match(ut)||[]}(t):t.match(e)||[]}var Qa=Jr((function(t,e){try{return Se(t,i,e)}catch(t){return Ks(t)?t:new wt(t)}})),tu=to((function(t,e){return Oe(e,(function(e){e=Mo(e),ir(t,e,Is(t[e],t))})),t}));function eu(t){return function(){return t}}var nu=Ui(),ru=Ui(!0);function iu(t){return t}function ou(t){return Dr("function"==typeof t?t:ar(t,1))}var su=Jr((function(t,e){return function(n){return Rr(n,t,e)}})),au=Jr((function(t,e){return function(n){return Rr(t,n,e)}}));function uu(t,e,n){var r=Pa(e),i=wr(e,r);null!=n||ea(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=wr(e,Pa(e)));var o=!(ea(n)&&"chain"in n&&!n.chain),s=Zs(t);return Oe(i,(function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=Ai(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Pe([this.value()],arguments))})})),t}function cu(){}var lu=zi(ke),hu=zi(Ae),fu=zi($e);function du(t){return mo(t)?Ve(Mo(t)):function(t){return function(e){return Tr(e,t)}}(t)}var pu=Vi(),vu=Vi(!0);function gu(){return[]}function _u(){return!1}var yu,mu=Fi((function(t,e){return t+e}),0),bu=qi("ceil"),wu=Fi((function(t,e){return t/e}),1),Tu=qi("floor"),Su=Fi((function(t,e){return t*e}),1),Eu=qi("round"),Ou=Fi((function(t,e){return t-e}),0);return Nn.after=function(t,e){if("function"!=typeof e)throw new At(o);return t=va(t),function(){if(--t<1)return e.apply(this,arguments)}},Nn.ary=js,Nn.assign=ba,Nn.assignIn=wa,Nn.assignInWith=Ta,Nn.assignWith=Sa,Nn.at=Ea,Nn.before=Rs,Nn.bind=Is,Nn.bindAll=tu,Nn.bindKey=ks,Nn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Hs(t)?t:[t]},Nn.chain=ds,Nn.chunk=function(t,e,n){e=(n?yo(t,e,n):e===i)?1:_n(va(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var s=0,a=0,u=r(fe(o/e));s<o;)u[a++]=ei(t,s,s+=e);return u},Nn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Nn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Pe(Hs(n)?Ai(n):[n],gr(e,1))},Nn.cond=function(t){var e=null==t?0:t.length,n=so();return t=e?ke(t,(function(t){if("function"!=typeof t[1])throw new At(o);return[n(t[0]),t[1]]})):[],Jr((function(n){for(var r=-1;++r<e;){var i=t[r];if(Se(i[0],this,n))return Se(i[1],this,n)}}))},Nn.conforms=function(t){return function(t){var e=Pa(t);return function(n){return ur(n,t,e)}}(ar(t,1))},Nn.constant=eu,Nn.countBy=gs,Nn.create=function(t,e){var n=Fn(t);return null==e?n:rr(n,e)},Nn.curry=function t(e,n,r){var o=Xi(e,8,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},Nn.curryRight=function t(e,n,r){var o=Xi(e,16,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},Nn.debounce=Ps,Nn.defaults=Oa,Nn.defaultsDeep=xa,Nn.defer=Cs,Nn.delay=Ds,Nn.difference=zo,Nn.differenceBy=Bo,Nn.differenceWith=Vo,Nn.drop=function(t,e,n){var r=null==t?0:t.length;return r?ei(t,(e=n||e===i?1:va(e))<0?0:e,r):[]},Nn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ei(t,0,(e=r-(e=n||e===i?1:va(e)))<0?0:e):[]},Nn.dropRightWhile=function(t,e){return t&&t.length?hi(t,so(e,3),!0,!0):[]},Nn.dropWhile=function(t,e){return t&&t.length?hi(t,so(e,3),!0):[]},Nn.fill=function(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&yo(t,e,n)&&(n=0,r=o),function(t,e,n,r){var o=t.length;for((n=va(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:va(r))<0&&(r+=o),r=n>r?0:ga(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Nn.filter=function(t,e){return(Hs(t)?je:vr)(t,so(e,3))},Nn.flatMap=function(t,e){return gr(Es(t,e),1)},Nn.flatMapDeep=function(t,e){return gr(Es(t,e),l)},Nn.flatMapDepth=function(t,e,n){return n=n===i?1:va(n),gr(Es(t,e),n)},Nn.flatten=qo,Nn.flattenDeep=function(t){return null!=t&&t.length?gr(t,l):[]},Nn.flattenDepth=function(t,e){return null!=t&&t.length?gr(t,e=e===i?1:va(e)):[]},Nn.flip=function(t){return Xi(t,512)},Nn.flow=nu,Nn.flowRight=ru,Nn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Nn.functions=function(t){return null==t?[]:wr(t,Pa(t))},Nn.functionsIn=function(t){return null==t?[]:wr(t,Ca(t))},Nn.groupBy=ws,Nn.initial=function(t){return null!=t&&t.length?ei(t,0,-1):[]},Nn.intersection=Jo,Nn.intersectionBy=Xo,Nn.intersectionWith=Yo,Nn.invert=Ra,Nn.invertBy=Ia,Nn.invokeMap=Ts,Nn.iteratee=ou,Nn.keyBy=Ss,Nn.keys=Pa,Nn.keysIn=Ca,Nn.map=Es,Nn.mapKeys=function(t,e){var n={};return e=so(e,3),mr(t,(function(t,r,i){ir(n,e(t,r,i),t)})),n},Nn.mapValues=function(t,e){var n={};return e=so(e,3),mr(t,(function(t,r,i){ir(n,r,e(t,r,i))})),n},Nn.matches=function(t){return Mr(ar(t,1))},Nn.matchesProperty=function(t,e){return Nr(t,ar(e,1))},Nn.memoize=$s,Nn.merge=Da,Nn.mergeWith=$a,Nn.method=su,Nn.methodOf=au,Nn.mixin=uu,Nn.negate=Ls,Nn.nthArg=function(t){return t=va(t),Jr((function(e){return zr(e,t)}))},Nn.omit=La,Nn.omitBy=function(t,e){return Ma(t,Ls(so(e)))},Nn.once=function(t){return Rs(2,t)},Nn.orderBy=function(t,e,n,r){return null==t?[]:(Hs(e)||(e=null==e?[]:[e]),Hs(n=r?i:n)||(n=null==n?[]:[n]),Br(t,e,n))},Nn.over=lu,Nn.overArgs=Us,Nn.overEvery=hu,Nn.overSome=fu,Nn.partial=Ms,Nn.partialRight=Ns,Nn.partition=Os,Nn.pick=Ua,Nn.pickBy=Ma,Nn.property=du,Nn.propertyOf=function(t){return function(e){return null==t?i:Tr(t,e)}},Nn.pull=Zo,Nn.pullAll=Qo,Nn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Wr(t,e,so(n,2)):t},Nn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Wr(t,e,i,n):t},Nn.pullAt=ts,Nn.range=pu,Nn.rangeRight=vu,Nn.rearg=Fs,Nn.reject=function(t,e){return(Hs(t)?je:vr)(t,Ls(so(e,3)))},Nn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=so(e,3);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return Hr(t,i),n},Nn.rest=function(t,e){if("function"!=typeof t)throw new At(o);return Jr(t,e=e===i?e:va(e))},Nn.reverse=es,Nn.sampleSize=function(t,e,n){return e=(n?yo(t,e,n):e===i)?1:va(e),(Hs(t)?Kn:Yr)(t,e)},Nn.set=function(t,e,n){return null==t?t:Kr(t,e,n)},Nn.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:Kr(t,e,n,r)},Nn.shuffle=function(t){return(Hs(t)?Zn:ti)(t)},Nn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&yo(t,e,n)?(e=0,n=r):(e=null==e?0:va(e),n=n===i?r:va(n)),ei(t,e,n)):[]},Nn.sortBy=xs,Nn.sortedUniq=function(t){return t&&t.length?oi(t):[]},Nn.sortedUniqBy=function(t,e){return t&&t.length?oi(t,so(e,2)):[]},Nn.split=function(t,e,n){return n&&"number"!=typeof n&&yo(t,e,n)&&(e=n=i),(n=n===i?d:n>>>0)?(t=ma(t))&&("string"==typeof e||null!=e&&!sa(e))&&!(e=ai(e))&&on(t)?mi(fn(t),0,n):t.split(e,n):[]},Nn.spread=function(t,e){if("function"!=typeof t)throw new At(o);return e=null==e?0:_n(va(e),0),Jr((function(n){var r=n[e],i=mi(n,0,e);return r&&Pe(i,r),Se(t,this,i)}))},Nn.tail=function(t){var e=null==t?0:t.length;return e?ei(t,1,e):[]},Nn.take=function(t,e,n){return t&&t.length?ei(t,0,(e=n||e===i?1:va(e))<0?0:e):[]},Nn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ei(t,(e=r-(e=n||e===i?1:va(e)))<0?0:e,r):[]},Nn.takeRightWhile=function(t,e){return t&&t.length?hi(t,so(e,3),!1,!0):[]},Nn.takeWhile=function(t,e){return t&&t.length?hi(t,so(e,3)):[]},Nn.tap=function(t,e){return e(t),t},Nn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new At(o);return ea(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ps(t,e,{leading:r,maxWait:e,trailing:i})},Nn.thru=ps,Nn.toArray=da,Nn.toPairs=Na,Nn.toPairsIn=Fa,Nn.toPath=function(t){return Hs(t)?ke(t,Mo):ca(t)?[t]:Ai(Uo(ma(t)))},Nn.toPlainObject=ya,Nn.transform=function(t,e,n){var r=Hs(t),i=r||Xs(t)||la(t);if(e=so(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:ea(t)&&Zs(o)?Fn(Wt(t)):{}}return(i?Oe:mr)(t,(function(t,r,i){return e(n,t,r,i)})),n},Nn.unary=function(t){return js(t,1)},Nn.union=ns,Nn.unionBy=rs,Nn.unionWith=is,Nn.uniq=function(t){return t&&t.length?ui(t):[]},Nn.uniqBy=function(t,e){return t&&t.length?ui(t,so(e,2)):[]},Nn.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?ui(t,i,e):[]},Nn.unset=function(t,e){return null==t||ci(t,e)},Nn.unzip=os,Nn.unzipWith=ss,Nn.update=function(t,e,n){return null==t?t:li(t,e,gi(n))},Nn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:li(t,e,gi(n),r)},Nn.values=za,Nn.valuesIn=function(t){return null==t?[]:Ye(t,Ca(t))},Nn.without=as,Nn.words=Za,Nn.wrap=function(t,e){return Ms(gi(e),t)},Nn.xor=us,Nn.xorBy=cs,Nn.xorWith=ls,Nn.zip=hs,Nn.zipObject=function(t,e){return pi(t||[],e||[],tr)},Nn.zipObjectDeep=function(t,e){return pi(t||[],e||[],Kr)},Nn.zipWith=fs,Nn.entries=Na,Nn.entriesIn=Fa,Nn.extend=wa,Nn.extendWith=Ta,uu(Nn,Nn),Nn.add=mu,Nn.attempt=Qa,Nn.camelCase=Ba,Nn.capitalize=Va,Nn.ceil=bu,Nn.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=_a(n))==n?n:0),e!==i&&(e=(e=_a(e))==e?e:0),sr(_a(t),e,n)},Nn.clone=function(t){return ar(t,4)},Nn.cloneDeep=function(t){return ar(t,5)},Nn.cloneDeepWith=function(t,e){return ar(t,5,e="function"==typeof e?e:i)},Nn.cloneWith=function(t,e){return ar(t,4,e="function"==typeof e?e:i)},Nn.conformsTo=function(t,e){return null==e||ur(t,e,Pa(e))},Nn.deburr=Wa,Nn.defaultTo=function(t,e){return null==t||t!=t?e:t},Nn.divide=wu,Nn.endsWith=function(t,e,n){t=ma(t),e=ai(e);var r=t.length,o=n=n===i?r:sr(va(n),0,r);return(n-=e.length)>=0&&t.slice(n,o)==e},Nn.eq=zs,Nn.escape=function(t){return(t=ma(t))&&J.test(t)?t.replace(q,nn):t},Nn.escapeRegExp=function(t){return(t=ma(t))&&nt.test(t)?t.replace(et,"\\$&"):t},Nn.every=function(t,e,n){var r=Hs(t)?Ae:dr;return n&&yo(t,e,n)&&(e=i),r(t,so(e,3))},Nn.find=_s,Nn.findIndex=Wo,Nn.findKey=function(t,e){return Ue(t,so(e,3),mr)},Nn.findLast=ys,Nn.findLastIndex=Ho,Nn.findLastKey=function(t,e){return Ue(t,so(e,3),br)},Nn.floor=Tu,Nn.forEach=ms,Nn.forEachRight=bs,Nn.forIn=function(t,e){return null==t?t:_r(t,so(e,3),Ca)},Nn.forInRight=function(t,e){return null==t?t:yr(t,so(e,3),Ca)},Nn.forOwn=function(t,e){return t&&mr(t,so(e,3))},Nn.forOwnRight=function(t,e){return t&&br(t,so(e,3))},Nn.get=Aa,Nn.gt=Bs,Nn.gte=Vs,Nn.has=function(t,e){return null!=t&&po(t,e,xr)},Nn.hasIn=ja,Nn.head=Go,Nn.identity=iu,Nn.includes=function(t,e,n,r){t=Gs(t)?t:za(t),n=n&&!r?va(n):0;var i=t.length;return n<0&&(n=_n(i+n,0)),ua(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Ne(t,e,n)>-1},Nn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:va(n);return i<0&&(i=_n(r+i,0)),Ne(t,e,i)},Nn.inRange=function(t,e,n){return e=pa(e),n===i?(n=e,e=0):n=pa(n),function(t,e,n){return t>=yn(e,n)&&t<_n(e,n)}(t=_a(t),e,n)},Nn.invoke=ka,Nn.isArguments=Ws,Nn.isArray=Hs,Nn.isArrayBuffer=qs,Nn.isArrayLike=Gs,Nn.isArrayLikeObject=Js,Nn.isBoolean=function(t){return!0===t||!1===t||na(t)&&Er(t)==_},Nn.isBuffer=Xs,Nn.isDate=Ys,Nn.isElement=function(t){return na(t)&&1===t.nodeType&&!oa(t)},Nn.isEmpty=function(t){if(null==t)return!0;if(Gs(t)&&(Hs(t)||"string"==typeof t||"function"==typeof t.splice||Xs(t)||la(t)||Ws(t)))return!t.length;var e=fo(t);if(e==T||e==A)return!t.size;if(To(t))return!$r(t).length;for(var n in t)if(Ct.call(t,n))return!1;return!0},Nn.isEqual=function(t,e){return kr(t,e)},Nn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?kr(t,e,i,n):!!r},Nn.isError=Ks,Nn.isFinite=function(t){return"number"==typeof t&&Le(t)},Nn.isFunction=Zs,Nn.isInteger=Qs,Nn.isLength=ta,Nn.isMap=ra,Nn.isMatch=function(t,e){return t===e||Pr(t,e,uo(e))},Nn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,Pr(t,e,uo(e),n)},Nn.isNaN=function(t){return ia(t)&&t!=+t},Nn.isNative=function(t){if(wo(t))throw new wt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Cr(t)},Nn.isNil=function(t){return null==t},Nn.isNull=function(t){return null===t},Nn.isNumber=ia,Nn.isObject=ea,Nn.isObjectLike=na,Nn.isPlainObject=oa,Nn.isRegExp=sa,Nn.isSafeInteger=function(t){return Qs(t)&&t>=-9007199254740991&&t<=h},Nn.isSet=aa,Nn.isString=ua,Nn.isSymbol=ca,Nn.isTypedArray=la,Nn.isUndefined=function(t){return t===i},Nn.isWeakMap=function(t){return na(t)&&fo(t)==I},Nn.isWeakSet=function(t){return na(t)&&"[object WeakSet]"==Er(t)},Nn.join=function(t,e){return null==t?"":We.call(t,e)},Nn.kebabCase=Ha,Nn.last=Ko,Nn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=va(n))<0?_n(r+o,0):yn(o,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):Me(t,ze,o,!0)},Nn.lowerCase=qa,Nn.lowerFirst=Ga,Nn.lt=ha,Nn.lte=fa,Nn.max=function(t){return t&&t.length?pr(t,iu,Or):i},Nn.maxBy=function(t,e){return t&&t.length?pr(t,so(e,2),Or):i},Nn.mean=function(t){return Be(t,iu)},Nn.meanBy=function(t,e){return Be(t,so(e,2))},Nn.min=function(t){return t&&t.length?pr(t,iu,Lr):i},Nn.minBy=function(t,e){return t&&t.length?pr(t,so(e,2),Lr):i},Nn.stubArray=gu,Nn.stubFalse=_u,Nn.stubObject=function(){return{}},Nn.stubString=function(){return""},Nn.stubTrue=function(){return!0},Nn.multiply=Su,Nn.nth=function(t,e){return t&&t.length?zr(t,va(e)):i},Nn.noConflict=function(){return he._===this&&(he._=Mt),this},Nn.noop=cu,Nn.now=As,Nn.pad=function(t,e,n){t=ma(t);var r=(e=va(e))?hn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Bi(de(i),n)+t+Bi(fe(i),n)},Nn.padEnd=function(t,e,n){t=ma(t);var r=(e=va(e))?hn(t):0;return e&&r<e?t+Bi(e-r,n):t},Nn.padStart=function(t,e,n){t=ma(t);var r=(e=va(e))?hn(t):0;return e&&r<e?Bi(e-r,n)+t:t},Nn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),bn(ma(t).replace(rt,""),e||0)},Nn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&yo(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=pa(t),e===i?(e=t,t=0):e=pa(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=wn();return yn(t+o*(e-t+ae("1e-"+((o+"").length-1))),e)}return qr(t,e)},Nn.reduce=function(t,e,n){var r=Hs(t)?Ce:He,i=arguments.length<3;return r(t,so(e,4),n,i,hr)},Nn.reduceRight=function(t,e,n){var r=Hs(t)?De:He,i=arguments.length<3;return r(t,so(e,4),n,i,fr)},Nn.repeat=function(t,e,n){return e=(n?yo(t,e,n):e===i)?1:va(e),Gr(ma(t),e)},Nn.replace=function(){var t=arguments,e=ma(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Nn.result=function(t,e,n){var r=-1,o=(e=_i(e,t)).length;for(o||(o=1,t=i);++r<o;){var s=null==t?i:t[Mo(e[r])];s===i&&(r=o,s=n),t=Zs(s)?s.call(t):s}return t},Nn.round=Eu,Nn.runInContext=t,Nn.sample=function(t){return(Hs(t)?Yn:Xr)(t)},Nn.size=function(t){if(null==t)return 0;if(Gs(t))return ua(t)?hn(t):t.length;var e=fo(t);return e==T||e==A?t.size:$r(t).length},Nn.snakeCase=Ja,Nn.some=function(t,e,n){var r=Hs(t)?$e:ni;return n&&yo(t,e,n)&&(e=i),r(t,so(e,3))},Nn.sortedIndex=function(t,e){return ri(t,e)},Nn.sortedIndexBy=function(t,e,n){return ii(t,e,so(n,2))},Nn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ri(t,e);if(r<n&&zs(t[r],e))return r}return-1},Nn.sortedLastIndex=function(t,e){return ri(t,e,!0)},Nn.sortedLastIndexBy=function(t,e,n){return ii(t,e,so(n,2),!0)},Nn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=ri(t,e,!0)-1;if(zs(t[n],e))return n}return-1},Nn.startCase=Xa,Nn.startsWith=function(t,e,n){return t=ma(t),n=null==n?0:sr(va(n),0,t.length),e=ai(e),t.slice(n,n+e.length)==e},Nn.subtract=Ou,Nn.sum=function(t){return t&&t.length?qe(t,iu):0},Nn.sumBy=function(t,e){return t&&t.length?qe(t,so(e,2)):0},Nn.template=function(t,e,n){var r=Nn.templateSettings;n&&yo(t,e,n)&&(e=i),t=ma(t),e=Ta({},e,r,Yi);var o,s,a=Ta({},e.imports,r.imports,Yi),u=Pa(a),c=Ye(a,u),l=0,h=e.interpolate||mt,f="__p += '",d=Ot((e.escape||mt).source+"|"+h.source+"|"+(h===K?ht:mt).source+"|"+(e.evaluate||mt).source+"|$","g"),p="//# sourceURL="+(Ct.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++re+"]")+"\n";t.replace(d,(function(e,n,r,i,a,u){return r||(r=i),f+=t.slice(l,u).replace(bt,rn),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),a&&(s=!0,f+="';\n"+a+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+e.length,e})),f+="';\n";var v=Ct.call(e,"variable")&&e.variable;if(v){if(ct.test(v))throw new wt("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(s?f.replace(B,""):f).replace(V,"$1").replace(W,"$1;"),f="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=Qa((function(){return Tt(u,p+"return "+f).apply(i,c)}));if(g.source=f,Ks(g))throw g;return g},Nn.times=function(t,e){if((t=va(t))<1||t>h)return[];var n=d,r=yn(t,d);e=so(e),t-=d;for(var i=Ge(r,e);++n<t;)e(n);return i},Nn.toFinite=pa,Nn.toInteger=va,Nn.toLength=ga,Nn.toLower=function(t){return ma(t).toLowerCase()},Nn.toNumber=_a,Nn.toSafeInteger=function(t){return t?sr(va(t),-9007199254740991,h):0===t?t:0},Nn.toString=ma,Nn.toUpper=function(t){return ma(t).toUpperCase()},Nn.trim=function(t,e,n){if((t=ma(t))&&(n||e===i))return Je(t);if(!t||!(e=ai(e)))return t;var r=fn(t),o=fn(e);return mi(r,Ze(r,o),Qe(r,o)+1).join("")},Nn.trimEnd=function(t,e,n){if((t=ma(t))&&(n||e===i))return t.slice(0,dn(t)+1);if(!t||!(e=ai(e)))return t;var r=fn(t);return mi(r,0,Qe(r,fn(e))+1).join("")},Nn.trimStart=function(t,e,n){if((t=ma(t))&&(n||e===i))return t.replace(rt,"");if(!t||!(e=ai(e)))return t;var r=fn(t);return mi(r,Ze(r,fn(e))).join("")},Nn.truncate=function(t,e){var n=30,r="...";if(ea(e)){var o="separator"in e?e.separator:o;n="length"in e?va(e.length):n,r="omission"in e?ai(e.omission):r}var s=(t=ma(t)).length;if(on(t)){var a=fn(t);s=a.length}if(n>=s)return t;var u=n-hn(r);if(u<1)return r;var c=a?mi(a,0,u).join(""):t.slice(0,u);if(o===i)return c+r;if(a&&(u+=c.length-u),sa(o)){if(t.slice(u).search(o)){var l,h=c;for(o.global||(o=Ot(o.source,ma(ft.exec(o))+"g")),o.lastIndex=0;l=o.exec(h);)var f=l.index;c=c.slice(0,f===i?u:f)}}else if(t.indexOf(ai(o),u)!=u){var d=c.lastIndexOf(o);d>-1&&(c=c.slice(0,d))}return c+r},Nn.unescape=function(t){return(t=ma(t))&&G.test(t)?t.replace(H,pn):t},Nn.uniqueId=function(t){var e=++Dt;return ma(t)+e},Nn.upperCase=Ya,Nn.upperFirst=Ka,Nn.each=ms,Nn.eachRight=bs,Nn.first=Go,uu(Nn,(yu={},mr(Nn,(function(t,e){Ct.call(Nn.prototype,e)||(yu[e]=t)})),yu),{chain:!1}),Nn.VERSION="4.17.21",Oe(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Nn[t].placeholder=Nn})),Oe(["drop","take"],(function(t,e){Vn.prototype[t]=function(n){n=n===i?1:_n(va(n),0);var r=this.__filtered__&&!e?new Vn(this):this.clone();return r.__filtered__?r.__takeCount__=yn(n,r.__takeCount__):r.__views__.push({size:yn(n,d),type:t+(r.__dir__<0?"Right":"")}),r},Vn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Oe(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Vn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:so(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),Oe(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Vn.prototype[t]=function(){return this[n](1).value()[0]}})),Oe(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Vn.prototype[t]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(iu)},Vn.prototype.find=function(t){return this.filter(t).head()},Vn.prototype.findLast=function(t){return this.reverse().find(t)},Vn.prototype.invokeMap=Jr((function(t,e){return"function"==typeof t?new Vn(this):this.map((function(n){return Rr(n,t,e)}))})),Vn.prototype.reject=function(t){return this.filter(Ls(so(t)))},Vn.prototype.slice=function(t,e){t=va(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Vn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=va(e))<0?n.dropRight(-e):n.take(e-t)),n)},Vn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Vn.prototype.toArray=function(){return this.take(d)},mr(Vn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=Nn[r?"take"+("last"==e?"Right":""):e],s=r||/^find/.test(e);o&&(Nn.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,u=e instanceof Vn,c=a[0],l=u||Hs(e),h=function(t){var e=o.apply(Nn,Pe([t],a));return r&&f?e[0]:e};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var f=this.__chain__,d=!!this.__actions__.length,p=s&&!f,v=u&&!d;if(!s&&l){e=v?e:new Vn(this);var g=t.apply(e,a);return g.__actions__.push({func:ps,args:[h],thisArg:i}),new Bn(g,f)}return p&&v?t.apply(this,a):(g=this.thru(h),p?r?g.value()[0]:g.value():g)})})),Oe(["pop","push","shift","sort","splice","unshift"],(function(t){var e=jt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Nn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Hs(i)?i:[],t)}return this[n]((function(n){return e.apply(Hs(n)?n:[],t)}))}})),mr(Vn.prototype,(function(t,e){var n=Nn[e];if(n){var r=n.name+"";Ct.call(In,r)||(In[r]=[]),In[r].push({name:e,func:n})}})),In[Mi(i,2).name]=[{name:"wrapper",func:i}],Vn.prototype.clone=function(){var t=new Vn(this.__wrapped__);return t.__actions__=Ai(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ai(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ai(this.__views__),t},Vn.prototype.reverse=function(){if(this.__filtered__){var t=new Vn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Vn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Hs(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=yn(e,t+s);break;case"takeRight":t=_n(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=r?a:s-1,l=this.__iteratees__,h=l.length,f=0,d=yn(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return fi(t,this.__actions__);var p=[];t:for(;u--&&f<d;){for(var v=-1,g=t[c+=e];++v<h;){var _=l[v],y=_.iteratee,m=_.type,b=y(g);if(2==m)g=b;else if(!b){if(1==m)continue t;break t}}p[f++]=g}return p},Nn.prototype.at=vs,Nn.prototype.chain=function(){return ds(this)},Nn.prototype.commit=function(){return new Bn(this.value(),this.__chain__)},Nn.prototype.next=function(){this.__values__===i&&(this.__values__=da(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},Nn.prototype.plant=function(t){for(var e,n=this;n instanceof zn;){var r=Fo(n);r.__index__=0,r.__values__=i,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e},Nn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Vn){var e=t;return this.__actions__.length&&(e=new Vn(this)),(e=e.reverse()).__actions__.push({func:ps,args:[es],thisArg:i}),new Bn(e,this.__chain__)}return this.thru(es)},Nn.prototype.toJSON=Nn.prototype.valueOf=Nn.prototype.value=function(){return fi(this.__wrapped__,this.__actions__)},Nn.prototype.first=Nn.prototype.head,Xt&&(Nn.prototype[Xt]=function(){return this}),Nn}();he._=vn,(r=function(){return vn}.call(e,n,e,t))===i||(t.exports=r)}.call(this)},75:function(t){(function(){var e,n,r,i,o,s;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(t.exports=function(){return(e()-o)/1e6},n=process.hrtime,i=(e=function(){var t;return 1e9*(t=n())[0]+t[1]})(),s=1e9*process.uptime(),o=i-s):Date.now?(t.exports=function(){return Date.now()-r},r=Date.now()):(t.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)},87:(t,e,n)=>{for(var r=n(75),i="undefined"==typeof window?n.g:window,o=["moz","webkit"],s="AnimationFrame",a=i["request"+s],u=i["cancel"+s]||i["cancelRequest"+s],c=0;!a&&c<o.length;c++)a=i[o[c]+"Request"+s],u=i[o[c]+"Cancel"+s]||i[o[c]+"CancelRequest"+s];if(!a||!u){var l=0,h=0,f=[];a=function(t){if(0===f.length){var e=r(),n=Math.max(0,16.666666666666668-(e-l));l=n+e,setTimeout((function(){var t=f.slice(0);f.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(l)}catch(t){setTimeout((function(){throw t}),0)}}),Math.round(n))}return f.push({handle:++h,callback:t,cancelled:!1}),h},u=function(t){for(var e=0;e<f.length;e++)f[e].handle===t&&(f[e].cancelled=!0)}}t.exports=function(t){return a.call(i,t)},t.exports.cancel=function(){u.apply(i,arguments)},t.exports.polyfill=function(t){t||(t=i),t.requestAnimationFrame=a,t.cancelAnimationFrame=u}},4:(t,e)=>{!function(){var t={},n=t.util={},r=Array.prototype.concat,i=Array.prototype.slice;n.bind=function(t,e){var n=i.call(arguments,2);return function(){t.apply(e,r.call(n,i.call(arguments)))}},n.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};var o=t.SpringSystem=function(t){this._springRegistry={},this._activeSprings=[],this.listeners=[],this._idleSpringIndices=[],this.looper=t||new c,this.looper.springSystem=this};n.extend(o.prototype,{_springRegistry:null,_isIdle:!0,_lastTimeMillis:-1,_activeSprings:null,listeners:null,_idleSpringIndices:null,setLooper:function(t){this.looper=t,t.springSystem=this},createSpring:function(t,e){var n;return n=void 0===t||void 0===e?u.DEFAULT_ORIGAMI_SPRING_CONFIG:u.fromOrigamiTensionAndFriction(t,e),this.createSpringWithConfig(n)},createSpringWithBouncinessAndSpeed:function(t,e){var n;return n=void 0===t||void 0===e?u.DEFAULT_ORIGAMI_SPRING_CONFIG:u.fromBouncinessAndSpeed(t,e),this.createSpringWithConfig(n)},createSpringWithConfig:function(t){var e=new s(this);return this.registerSpring(e),e.setSpringConfig(t),e},getIsIdle:function(){return this._isIdle},getSpringById:function(t){return this._springRegistry[t]},getAllSprings:function(){var t=[];for(var e in this._springRegistry)this._springRegistry.hasOwnProperty(e)&&t.push(this._springRegistry[e]);return t},registerSpring:function(t){this._springRegistry[t.getId()]=t},deregisterSpring:function(t){v(this._activeSprings,t),delete this._springRegistry[t.getId()]},advance:function(t,e){for(;this._idleSpringIndices.length>0;)this._idleSpringIndices.pop();for(var n=0,r=this._activeSprings.length;n<r;n++){var i=this._activeSprings[n];i.systemShouldAdvance()?i.advance(t/1e3,e/1e3):this._idleSpringIndices.push(this._activeSprings.indexOf(i))}for(;this._idleSpringIndices.length>0;){var o=this._idleSpringIndices.pop();o>=0&&this._activeSprings.splice(o,1)}},loop:function(t){var e;-1===this._lastTimeMillis&&(this._lastTimeMillis=t-1);var n=t-this._lastTimeMillis;this._lastTimeMillis=t;var r=0,i=this.listeners.length;for(r=0;r<i;r++)(e=this.listeners[r]).onBeforeIntegrate&&e.onBeforeIntegrate(this);for(this.advance(t,n),0===this._activeSprings.length&&(this._isIdle=!0,this._lastTimeMillis=-1),r=0;r<i;r++)(e=this.listeners[r]).onAfterIntegrate&&e.onAfterIntegrate(this);this._isIdle||this.looper.run()},activateSpring:function(t){var e=this._springRegistry[t];-1==this._activeSprings.indexOf(e)&&this._activeSprings.push(e),this.getIsIdle()&&(this._isIdle=!1,this.looper.run())},addListener:function(t){this.listeners.push(t)},removeListener:function(t){v(this.listeners,t)},removeAllListeners:function(){this.listeners=[]}});var s=t.Spring=function t(e){this._id="s"+t._ID++,this._springSystem=e,this.listeners=[],this._currentState=new a,this._previousState=new a,this._tempState=new a};n.extend(s,{_ID:0,MAX_DELTA_TIME_SEC:.064,SOLVER_TIMESTEP_SEC:.001}),n.extend(s.prototype,{_id:0,_springConfig:null,_overshootClampingEnabled:!1,_currentState:null,_previousState:null,_tempState:null,_startValue:0,_endValue:0,_wasAtRest:!0,_restSpeedThreshold:.001,_displacementFromRestThreshold:.001,listeners:null,_timeAccumulator:0,_springSystem:null,destroy:function(){this.listeners=[],this.frames=[],this._springSystem.deregisterSpring(this)},getId:function(){return this._id},setSpringConfig:function(t){return this._springConfig=t,this},getSpringConfig:function(){return this._springConfig},setCurrentValue:function(t,e){return this._startValue=t,this._currentState.position=t,e||this.setAtRest(),this.notifyPositionUpdated(!1,!1),this},getStartValue:function(){return this._startValue},getCurrentValue:function(){return this._currentState.position},getCurrentDisplacementDistance:function(){return this.getDisplacementDistanceForState(this._currentState)},getDisplacementDistanceForState:function(t){return Math.abs(this._endValue-t.position)},setEndValue:function(t){if(this._endValue==t&&this.isAtRest())return this;this._startValue=this.getCurrentValue(),this._endValue=t,this._springSystem.activateSpring(this.getId());for(var e=0,n=this.listeners.length;e<n;e++){var r=this.listeners[e].onSpringEndStateChange;r&&r(this)}return this},getEndValue:function(){return this._endValue},setVelocity:function(t){return t===this._currentState.velocity||(this._currentState.velocity=t,this._springSystem.activateSpring(this.getId())),this},getVelocity:function(){return this._currentState.velocity},setRestSpeedThreshold:function(t){return this._restSpeedThreshold=t,this},getRestSpeedThreshold:function(){return this._restSpeedThreshold},setRestDisplacementThreshold:function(t){this._displacementFromRestThreshold=t},getRestDisplacementThreshold:function(){return this._displacementFromRestThreshold},setOvershootClampingEnabled:function(t){return this._overshootClampingEnabled=t,this},isOvershootClampingEnabled:function(){return this._overshootClampingEnabled},isOvershooting:function(){var t=this._startValue,e=this._endValue;return this._springConfig.tension>0&&(t<e&&this.getCurrentValue()>e||t>e&&this.getCurrentValue()<e)},advance:function(t,e){var n=this.isAtRest();if(!n||!this._wasAtRest){var r=e;e>s.MAX_DELTA_TIME_SEC&&(r=s.MAX_DELTA_TIME_SEC),this._timeAccumulator+=r;for(var i,o,a,u,c,l,h,f,d=this._springConfig.tension,p=this._springConfig.friction,v=this._currentState.position,g=this._currentState.velocity,_=this._tempState.position,y=this._tempState.velocity;this._timeAccumulator>=s.SOLVER_TIMESTEP_SEC;)this._timeAccumulator-=s.SOLVER_TIMESTEP_SEC,this._timeAccumulator<s.SOLVER_TIMESTEP_SEC&&(this._previousState.position=v,this._previousState.velocity=g),i=g,o=d*(this._endValue-_)-p*g,_=v+i*s.SOLVER_TIMESTEP_SEC*.5,a=y=g+o*s.SOLVER_TIMESTEP_SEC*.5,u=d*(this._endValue-_)-p*y,_=v+a*s.SOLVER_TIMESTEP_SEC*.5,c=y=g+u*s.SOLVER_TIMESTEP_SEC*.5,l=d*(this._endValue-_)-p*y,_=v+c*s.SOLVER_TIMESTEP_SEC*.5,h=y=g+l*s.SOLVER_TIMESTEP_SEC*.5,f=1/6*(o+2*(u+l)+(d*(this._endValue-_)-p*y)),v+=1/6*(i+2*(a+c)+h)*s.SOLVER_TIMESTEP_SEC,g+=f*s.SOLVER_TIMESTEP_SEC;this._tempState.position=_,this._tempState.velocity=y,this._currentState.position=v,this._currentState.velocity=g,this._timeAccumulator>0&&this._interpolate(this._timeAccumulator/s.SOLVER_TIMESTEP_SEC),(this.isAtRest()||this._overshootClampingEnabled&&this.isOvershooting())&&(this._springConfig.tension>0?(this._startValue=this._endValue,this._currentState.position=this._endValue):(this._endValue=this._currentState.position,this._startValue=this._endValue),this.setVelocity(0),n=!0);var m=!1;this._wasAtRest&&(this._wasAtRest=!1,m=!0);var b=!1;n&&(this._wasAtRest=!0,b=!0),this.notifyPositionUpdated(m,b)}},notifyPositionUpdated:function(t,e){for(var n=0,r=this.listeners.length;n<r;n++){var i=this.listeners[n];t&&i.onSpringActivate&&i.onSpringActivate(this),i.onSpringUpdate&&i.onSpringUpdate(this),e&&i.onSpringAtRest&&i.onSpringAtRest(this)}},systemShouldAdvance:function(){return!this.isAtRest()||!this.wasAtRest()},wasAtRest:function(){return this._wasAtRest},isAtRest:function(){return Math.abs(this._currentState.velocity)<this._restSpeedThreshold&&(this.getDisplacementDistanceForState(this._currentState)<=this._displacementFromRestThreshold||0===this._springConfig.tension)},setAtRest:function(){return this._endValue=this._currentState.position,this._tempState.position=this._currentState.position,this._currentState.velocity=0,this},_interpolate:function(t){this._currentState.position=this._currentState.position*t+this._previousState.position*(1-t),this._currentState.velocity=this._currentState.velocity*t+this._previousState.velocity*(1-t)},getListeners:function(){return this.listeners},addListener:function(t){return this.listeners.push(t),this},removeListener:function(t){return v(this.listeners,t),this},removeAllListeners:function(){return this.listeners=[],this},currentValueIsApproximately:function(t){return Math.abs(this.getCurrentValue()-t)<=this.getRestDisplacementThreshold()}});var a=function(){};n.extend(a.prototype,{position:0,velocity:0});var u=t.SpringConfig=function(t,e){this.tension=t,this.friction=e},c=t.AnimationLooper=function(){this.springSystem=null;var t=this,e=function(){t.springSystem.loop(Date.now())};this.run=function(){n.onFrame(e)}};t.SimulationLooper=function(t){this.springSystem=null;var e=0,n=!1;t=t||16.667,this.run=function(){if(!n){for(n=!0;!this.springSystem.getIsIdle();)this.springSystem.loop(e+=t);n=!1}}},t.SteppingSimulationLooper=function(t){this.springSystem=null;var e=0;this.run=function(){},this.step=function(t){this.springSystem.loop(e+=t)}};var l=t.OrigamiValueConverter={tensionFromOrigamiValue:function(t){return 3.62*(t-30)+194},origamiValueFromTension:function(t){return(t-194)/3.62+30},frictionFromOrigamiValue:function(t){return 3*(t-8)+25},origamiFromFriction:function(t){return(t-25)/3+8}},h=t.BouncyConversion=function(t,e){this.bounciness=t,this.speed=e;var n=this.normalize(t/1.7,0,20);n=this.projectNormal(n,0,.8);var r=this.normalize(e/1.7,0,20);this.bouncyTension=this.projectNormal(r,.5,200),this.bouncyFriction=this.quadraticOutInterpolation(n,this.b3Nobounce(this.bouncyTension),.01)};n.extend(h.prototype,{normalize:function(t,e,n){return(t-e)/(n-e)},projectNormal:function(t,e,n){return e+t*(n-e)},linearInterpolation:function(t,e,n){return t*n+(1-t)*e},quadraticOutInterpolation:function(t,e,n){return this.linearInterpolation(2*t-t*t,e,n)},b3Friction1:function(t){return 7e-4*Math.pow(t,3)-.031*Math.pow(t,2)+.64*t+1.28},b3Friction2:function(t){return 44e-6*Math.pow(t,3)-.006*Math.pow(t,2)+.36*t+2},b3Friction3:function(t){return 45e-8*Math.pow(t,3)-332e-6*Math.pow(t,2)+.1078*t+5.84},b3Nobounce:function(t){return t<=18?this.b3Friction1(t):t>18&&t<=44?this.b3Friction2(t):this.b3Friction3(t)}}),n.extend(u,{fromOrigamiTensionAndFriction:function(t,e){return new u(l.tensionFromOrigamiValue(t),l.frictionFromOrigamiValue(e))},fromBouncinessAndSpeed:function(e,n){var r=new t.BouncyConversion(e,n);return this.fromOrigamiTensionAndFriction(r.bouncyTension,r.bouncyFriction)},coastingConfigWithOrigamiFriction:function(t){return new u(0,l.frictionFromOrigamiValue(t))}}),u.DEFAULT_ORIGAMI_SPRING_CONFIG=u.fromOrigamiTensionAndFriction(40,7),n.extend(u.prototype,{friction:0,tension:0});var f={};n.hexToRGB=function(t){if(f[t])return f[t];3===(t=t.replace("#","")).length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var e=t.match(/.{2}/g),n={r:parseInt(e[0],16),g:parseInt(e[1],16),b:parseInt(e[2],16)};return f[t]=n,n},n.rgbToHex=function(t,e,n){return t=t.toString(16),e=e.toString(16),n=n.toString(16),"#"+(t=t.length<2?"0"+t:t)+(e=e.length<2?"0"+e:e)+(n.length<2?"0"+n:n)};var d,p=t.MathUtil={mapValueInRange:function(t,e,n,r,i){return r+(t-e)/(n-e)*(i-r)},interpolateColor:function(t,e,r,i,o,s){i=void 0===i?0:i,o=void 0===o?1:o,e=n.hexToRGB(e),r=n.hexToRGB(r);var a=Math.floor(n.mapValueInRange(t,i,o,e.r,r.r)),u=Math.floor(n.mapValueInRange(t,i,o,e.g,r.g)),c=Math.floor(n.mapValueInRange(t,i,o,e.b,r.b));return s?"rgb("+a+","+u+","+c+")":n.rgbToHex(a,u,c)},degreesToRadians:function(t){return t*Math.PI/180},radiansToDegrees:function(t){return 180*t/Math.PI}};function v(t,e){var n=t.indexOf(e);-1!=n&&t.splice(n,1)}n.extend(n,p),"undefined"!=typeof window&&(d=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}),d||"undefined"==typeof process||"node"!==process.title||(d=setImmediate),n.onFrame=function(t){return d(t)},n.extend(e,t)}()},988:t=>{"use strict";var e;e=function(){var t={},e={};return t.on=function(t,n){var r={name:t,handler:n};return e[t]=e[t]||[],e[t].unshift(r),r},t.off=function(t){var n=e[t.name].indexOf(t);-1!==n&&e[t.name].splice(n,1)},t.trigger=function(t,n){var r,i=e[t];if(i)for(r=i.length;r--;)i[r].handler(n)},t},t.exports=e},817:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=h(n(486)),i=h(n(988)),o=h(n(840)),s=h(n(4)),a=h(n(63)),u=h(n(87)),c=h(n(434)),l=n(946);function h(t){return t&&t.__esModule?t:{default:t}}var f=function(t,e,n){var r=Math.abs(t)>Math.abs(e),i=t<0?c.default.LEFT:c.default.RIGHT,o=e<0?c.default.UP:c.default.DOWN,s=r?i:o;return-1===n.indexOf(s)?c.default.INVALID:s},d=function t(e,r,a){var h,d,p,v=void 0,g=void 0,_=void 0,y=void 0,m=void 0,b=void 0,w=void 0,T=void 0,S=void 0,E=void 0,O=void 0,x=void 0,A=void 0,j=void 0,R=void 0,I=void 0,k=void 0,P=void 0,C=void 0;return v={},g=t.makeConfig(e.getConfig()),b=(0,i.default)(),R=e.getSpringSystem(),I=R.createSpring(250,10),k=R.createSpring(500,20),S={},E={coordinateX:0,coordinateY:0},(P={})[c.default.LEFT]="throwoutleft",P[c.default.RIGHT]="throwoutright",P[c.default.UP]="throwoutup",P[c.default.DOWN]="throwoutdown",I.setRestSpeedThreshold(.05),I.setRestDisplacementThreshold(.05),k.setRestSpeedThreshold(.05),k.setRestDisplacementThreshold(.05),d=g.throwOutDistance(g.minThrowOutDistance,g.maxThrowOutDistance),A=new o.default.Manager(r,{recognizers:[[o.default.Pan,{threshold:2}]]}),a?t.prependToParent(r):t.appendToParent(r),b.on("panstart",(function(){t.appendToParent(r),b.trigger("dragstart",{target:r}),_=0,y=0,w=!0,function t(){w&&(m(),(0,u.default)(t))}()})),b.on("panmove",(function(t){_=t.deltaX,y=t.deltaY})),b.on("panend",(function(t){w=!1;var e=E.coordinateX+t.deltaX,n=E.coordinateY+t.deltaY,i=g.isThrowOut(e,n,r,g.throwOutConfidence(e,n,r)),o=f(e,n,g.allowedDirections);i&&o!==c.default.INVALID?v.throwOut(e,n,o):v.throwIn(e,n,o),b.trigger("dragend",{target:r})})),(0,l.isTouchDevice)()?(r.addEventListener("touchstart",(function(){b.trigger("panstart")})),r.addEventListener("touchend",(function(){w&&!T&&b.trigger("dragend",{target:r})})),h=void 0,r.addEventListener("touchstart",(function(){h=!0})),r.addEventListener("touchend",(function(){h=!1})),n.g.addEventListener("touchmove",(function(t){h&&t.preventDefault()}))):(r.addEventListener("mousedown",(function(){C=t.appendToParent(r)||C,b.trigger("panstart")})),r.addEventListener("mouseup",(function(){C&&(r.click(),C=!1),w&&!T&&b.trigger("dragend",{target:r})}))),A.on("panstart",(function(t){T=!0,b.trigger("panstart",t)})),A.on("panmove",(function(t){b.trigger("panmove",t)})),A.on("panend",(function(t){T=!1,b.trigger("panend",t)})),I.addListener({onSpringAtRest:function(){b.trigger("throwinend",{target:r})},onSpringUpdate:function(t){var e=t.getCurrentValue(),n=s.default.MathUtil.mapValueInRange(e,0,1,S.fromX,0),r=s.default.MathUtil.mapValueInRange(e,0,1,S.fromY,0);j(n,r)}}),k.addListener({onSpringAtRest:function(){b.trigger("throwoutend",{target:r})},onSpringUpdate:function(t){var e=t.getCurrentValue(),n=void 0,r=void 0,i=void 0;S.direction===c.default.RIGHT||S.direction===c.default.LEFT?(i=S.direction===c.default.RIGHT?1:-1,n=s.default.MathUtil.mapValueInRange(e,0,1,S.fromX,d*i),r=S.fromY):S.direction!==c.default.UP&&S.direction!==c.default.DOWN||(i=S.direction===c.default.DOWN?1:-1,n=S.fromX,r=s.default.MathUtil.mapValueInRange(e,0,1,S.fromY,d*i)),j(n,r)}}),m=function(){if(_!==O||y!==x){O=_,x=y;var t=E.coordinateX+_,e=E.coordinateY+y,n=g.rotation(t,e,r,g.maxRotation);g.transform(r,t,e,n),b.trigger("dragmove",{offset:t,target:r,throwDirection:f(t,e,g.allowedDirections),throwOutConfidence:g.throwOutConfidence(t,e,r)})}},j=function(t,e){var n=g.rotation(t,e,r,g.maxRotation);E.coordinateX=t||0,E.coordinateY=e||0,g.transform(r,t,e,n)},p=function(e,n,i,o){if(S.fromX=n,S.fromY=i,S.direction=o||f(n,i,g.allowedDirections),e===t.THROW_IN)t.appendToParent(r),I.setCurrentValue(0).setAtRest().setEndValue(1),b.trigger("throwin",{target:r,throwDirection:S.direction});else{if(e!==t.THROW_OUT)throw new Error("Invalid throw event.");t.appendToParent(r),k.setCurrentValue(0).setAtRest().setVelocity(100).setEndValue(1),b.trigger("throwout",{target:r,throwDirection:S.direction}),b.trigger(P[S.direction],{target:r,throwDirection:S.direction})}},v.on=b.on,v.trigger=b.trigger,v.throwIn=function(e,n,r){p(t.THROW_IN,e,n,r)},v.throwOut=function(e,n,r){p(t.THROW_OUT,e,n,r)},v.destroy=function(){A.destroy(),I.destroy(),k.destroy(),e.destroyCard(v)},v};d.makeConfig=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={allowedDirections:[c.default.RIGHT,c.default.LEFT,c.default.UP],isThrowOut:d.isThrowOut,maxRotation:20,maxThrowOutDistance:500,minThrowOutDistance:400,rotation:d.rotation,throwOutConfidence:d.throwOutConfidence,throwOutDistance:d.throwOutDistance,transform:d.transform};return r.default.assign({},e,t)},d.transform=function(t,e,n,r){t.style[(0,a.default)("transform")]="translate3d(0, 0, 0) translate("+e+"px, "+n+"px) rotate("+r+"deg)"},d.appendToParent=function(t){var e=t.parentNode,n=(0,l.elementChildren)(e),r=n.indexOf(t)+1!==n.length;return r&&(e.removeChild(t),e.appendChild(t)),r},d.prependToParent=function(t){var e=t.parentNode;e.removeChild(t),e.insertBefore(t,e.firstChild)},d.throwOutConfidence=function(t,e,n){var r=Math.min(Math.abs(t)/n.offsetWidth,1),i=Math.min(Math.abs(e)/n.offsetHeight,1);return Math.max(r,i)},d.isThrowOut=function(t,e,n,r){return 1===r},d.throwOutDistance=function(t,e){return r.default.random(t,e)},d.rotation=function(t,e,n,r){return Math.min(Math.max(t/n.offsetWidth,-1),1)*((e>0?1:-1)*Math.min(Math.abs(e)/100,1))*r},d.THROW_IN="in",d.THROW_OUT="out",e.default=d,t.exports=e.default},434:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={DOWN:Symbol("DOWN"),INVALID:Symbol("INVALID"),LEFT:Symbol("LEFT"),RIGHT:Symbol("RIGHT"),UP:Symbol("UP")};e.default=n,t.exports=e.default},269:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(486)),i=a(n(988)),o=a(n(4)),s=a(n(817));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e,n=void 0,a=void 0,u=void 0;return u={},e=new o.default.SpringSystem,n=(0,i.default)(),a=[],u.getConfig=function(){return t},u.getSpringSystem=function(){return e},u.on=function(t,e){n.on(t,e)},u.createCard=function(t,e){var r=(0,s.default)(u,t,e);return["throwout","throwoutend","throwoutleft","throwoutright","throwoutup","throwoutdown","throwin","throwinend","dragstart","dragmove","dragend"].forEach((function(t){r.on(t,(function(e){n.trigger(t,e)}))})),a.push({card:r,element:t}),r},u.getCard=function(t){var e=r.default.find(a,{element:t});return e?e.card:null},u.destroyCard=function(t){return n.trigger("destroyCard",t),r.default.remove(a,{card:t})},u},t.exports=e.default},32:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Stack=e.Direction=e.Card=void 0;var r=s(n(817)),i=s(n(434)),o=s(n(269));function s(t){return t&&t.__esModule?t:{default:t}}e.Card=r.default,e.Direction=i.default,e.Stack=o.default},946:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTouchDevice=e.elementChildren=void 0;var r,i=(r=n(486))&&r.__esModule?r:{default:r};e.elementChildren=function(t){return i.default.filter(t.childNodes,{nodeType:1})},e.isTouchDevice=function(){return"ontouchstart"in window||navigator.msMaxTouchPoints}},63:t=>{"use strict";var e=document.createElement("p").style,n="O ms Moz webkit".split(" "),r=/^(o|ms|moz|webkit)/,i={};function o(t){return t in i?i[t]:i[t]=function(t){var r,i,o=t.replace(/-([a-z])/g,(function(t,e){return e.toUpperCase()})),s=n.length;if(void 0!==e[o])return o;for(o=(i=t).charAt(0).toUpperCase()+i.slice(1);s--;)if(r=n[s]+o,void 0!==e[r])return r;throw new Error("unable to prefix "+t)}(t)}t.exports=o,t.exports.dash=function(t){var e=o(t),n=/([A-Z])/g;return n.test(e)&&(e=(r.test(e)?"-":"")+e.replace(n,"-$1")),e.toLowerCase()}},578:(t,e,n)=>{var r;if("object"==typeof globalThis)r=globalThis;else try{r=n(284)}catch(t){}finally{if(r||"undefined"==typeof window||(r=window),!r)throw new Error("Could not determine global this")}var i=r.WebSocket||r.MozWebSocket,o=n(387);function s(t,e){return e?new i(t,e):new i(t)}i&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(t){Object.defineProperty(s,t,{get:function(){return i[t]}})})),t.exports={w3cwebsocket:i?s:null,version:o}},387:(t,e,n)=>{t.exports=n(794).version},794:t=>{"use strict";t.exports={version:"1.0.34"}}},r={};function i(t){var e=r[t];if(void 0!==e)return e.exports;var o=r[t]={id:t,loaded:!1,exports:{}};return n[t].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,i.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);i.r(o);var s={};t=t||[null,e({}),e([]),e(e)];for(var a=2&r&&n;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>s[t]=()=>n[t]));return s.default=()=>n,i.d(o,s),o},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{const t=i(32),e=i(465),n=document.querySelector("ul"),r=t.Stack(),o=e.createClient("https://aiqhvxquehfxwsbsgppz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFpcWh2eHF1ZWhmeHdzYnNncHB6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzAyNDIyMzksImV4cCI6MTk4NTgxODIzOX0.GiUtg3AXI4T1_c34L8-sw6ycWuzDpTjVYgzgxHWKEog"),s=window.prompt("User:","anon");async function a(t,e){const{data:i,error:s}=await o.rpc("get_next",{am:t,start:e});var a;s&&console.error(s),i.forEach((t=>{(a=document.createElement("li")).innerHTML=`<header>${t.word}</header><p>${t.hint}</p>`,a.dataset.wordId=t.id,n.prepend(a),r.createCard(a,!0)}))}a(3,0),r.on("throwout",(async e=>{console.log("out "+(e.throwDirection==t.Direction.LEFT?"left":"right")),e.target.parentNode.removeChild(e.target);const{error:n}=await o.from("decisions").insert({word:e.target.dataset.wordId,is_good:e.throwDirection==t.Direction.RIGHT,annotator:s});n&&console.error(n),a(1,parseInt(e.target.dataset.wordId)+2)}))})()})();